import{r as z,j as t}from"./index-CYDUBxha.js";class ce{constructor(r,e){this.pixels=r,this.opts=e;const{sigBits:o}=e,a=(T,P,y)=>(T<<2*o)+(P<<o)+y;this.getColorIndex=a;const l=8-o,d=1<<3*o,x=new Uint32Array(d);let h,g,S,j,L,E,c,O,I,C;h=S=L=0,g=j=E=Number.MAX_VALUE;const w=r.length/4;let B=0;for(;B<w;){const T=B*4;if(B++,c=r[T+0],O=r[T+1],I=r[T+2],C=r[T+3],C===0)continue;c=c>>l,O=O>>l,I=I>>l;const P=a(c,O,I);x[P]===void 0&&(x[P]=0),x[P]+=1,c>h&&(h=c),c<g&&(g=c),O>S&&(S=O),O<j&&(j=O),I>L&&(L=I),I<E&&(E=I)}this._colorCount=x.reduce((T,P)=>P>0?T+1:T,0),this.hist=x,this.rmax=h,this.rmin=g,this.gmax=S,this.gmin=j,this.bmax=L,this.bmin=E}get colorCount(){return this._colorCount}}class xe{scaleDown(r){const e=this.getWidth(),o=this.getHeight();let a=1;if(r.maxDimension>0){const l=Math.max(e,o);l>r.maxDimension&&(a=r.maxDimension/l)}else a=1/r.quality;a<1&&this.resize(e*a,o*a,a)}}function ue(i,r){if(r.length>0){const e=i.data,o=e.length/4;let a,l,d,x,h;for(let g=0;g<o;g++){a=g*4,l=e[a+0],d=e[a+1],x=e[a+2],h=e[a+3];for(let S=0;S<r.length;S++)if(!r[S]?.(l,d,x,h)){e[a+3]=0;break}}}return i}function he(i){const r=new URL(i,location.href);return r.protocol===location.protocol&&r.host===location.host&&r.port===location.port}function be(i,r){const e=new URL(i),o=new URL(r);return e.protocol===o.protocol&&e.hostname===o.hostname&&e.port===o.port}class ge extends xe{_getCanvas(){if(!this._canvas)throw new Error("Canvas is not initialized");return this._canvas}_getContext(){if(!this._context)throw new Error("Context is not initialized");return this._context}_getWidth(){if(!this._width)throw new Error("Width is not initialized");return this._width}_getHeight(){if(!this._height)throw new Error("Height is not initialized");return this._height}_initCanvas(){const r=this.image;if(!r)throw new Error("Image is not initialized");const e=this._canvas=document.createElement("canvas"),o=e.getContext("2d");if(!o)throw new ReferenceError("Failed to create canvas context");this._context=o,e.className="@vibrant/canvas",e.style.display="none",this._width=e.width=r.width,this._height=e.height=r.height,o.drawImage(r,0,0),document.body.appendChild(e)}load(r){let e,o;if(typeof r=="string")e=document.createElement("img"),o=r,!he(o)&&!be(window.location.href,o)&&(e.crossOrigin="anonymous"),e.src=o;else if(r instanceof HTMLImageElement)e=r,o=r.src;else return Promise.reject(new Error("Cannot load buffer as an image in browser"));return this.image=e,new Promise((a,l)=>{const d=()=>{this._initCanvas(),a(this)};e.complete?d():(e.onload=d,e.onerror=x=>l(new Error(`Fail to load image: ${o}`)))})}clear(){this._getContext().clearRect(0,0,this._getWidth(),this._getHeight())}update(r){this._getContext().putImageData(r,0,0)}getWidth(){return this._getWidth()}getHeight(){return this._getHeight()}resize(r,e,o){if(!this.image)throw new Error("Image is not initialized");this._width=this._getCanvas().width=r,this._height=this._getCanvas().height=e,this._getContext().scale(o,o),this._getContext().drawImage(this.image,0,0)}getPixelCount(){return this._getWidth()*this._getHeight()}getImageData(){return this._getContext().getImageData(0,0,this._getWidth(),this._getHeight())}remove(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)}}function Y(i,...r){return r.forEach(e=>{if(e){for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];Array.isArray(a)?i[o]=a.slice(0):typeof a=="object"?(i[o]||(i[o]={}),Y(i[o],a)):i[o]=a}}}),i}function me(i,r){const{colorCount:e,quantizer:o,generators:a,filters:l}=i,d={colorCount:e},x=typeof o=="string"?{name:o,options:{}}:o;return x.options=Y({},d,x.options),Y({},{quantizer:x,generators:a,filters:l},r)}class fe{constructor(r,e={}){this._src=r,this._opts=Y({},V.DefaultOpts,e)}maxColorCount(r){return this._opts.colorCount=r,this}maxDimension(r){return this._opts.maxDimension=r,this}addFilter(r){return this._opts.filters?this._opts.filters.push(r):this._opts.filters=[r],this}removeFilter(r){if(this._opts.filters){const e=this._opts.filters.indexOf(r);e>0&&this._opts.filters.splice(e)}return this}clearFilters(){return this._opts.filters=[],this}quality(r){return this._opts.quality=r,this}useImageClass(r){return this._opts.ImageClass=r,this}useGenerator(r,e){return this._opts.generators||(this._opts.generators=[]),this._opts.generators.push(e?{name:r,options:e}:r),this}useQuantizer(r,e){return this._opts.quantizer=e?{name:r,options:e}:r,this}build(){return new V(this._src,this._opts)}getPalette(){return this.build().getPalette()}}class re{constructor(r){this.pipeline=r,this._map={}}names(){return Object.keys(this._map)}has(r){return!!this._map[r]}get(r){return this._map[r]}register(r,e){return this._map[r]=e,this.pipeline}}class ye{constructor(){this.filter=new re(this),this.quantizer=new re(this),this.generator=new re(this)}_buildProcessTasks({filters:r,quantizer:e,generators:o}){return o.length===1&&o[0]==="*"&&(o=this.generator.names()),{filters:r.map(l=>a(this.filter,l)),quantizer:a(this.quantizer,e),generators:o.map(l=>a(this.generator,l))};function a(l,d){let x,h;return typeof d=="string"?x=d:(x=d.name,h=d.options),{name:x,fn:l.get(x),options:h}}}async process(r,e){const{filters:o,quantizer:a,generators:l}=this._buildProcessTasks(e),d=await this._filterColors(o,r),x=await this._generateColors(a,d),h=await this._generatePalettes(l,x);return{colors:x,palettes:h}}_filterColors(r,e){return Promise.resolve(ue(e,r.map(({fn:o})=>o)))}_generateColors(r,e){return Promise.resolve(r.fn(e.data,r.options))}async _generatePalettes(r,e){const o=await Promise.all(r.map(({fn:a,options:l})=>Promise.resolve(a(e,l))));return Promise.resolve(o.reduce((a,l,d)=>(a[r[d].name]=l,a),{}))}}function Se(i,r,e){return"#"+((1<<24)+(i<<16)+(r<<8)+e).toString(16).slice(1,7)}function Le(i,r,e){i/=255,r/=255,e/=255;const o=Math.max(i,r,e),a=Math.min(i,r,e);let l=0,d=0;const x=(o+a)/2;if(o!==a){const h=o-a;switch(d=x>.5?h/(2-o-a):h/(o+a),o){case i:l=(r-e)/h+(r<e?6:0);break;case r:l=(e-i)/h+2;break;case e:l=(i-r)/h+4;break}l/=6}return[l,d,x]}function U(i,r,e){let o,a,l;function d(x,h,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?x+(h-x)*6*g:g<1/2?h:g<2/3?x+(h-x)*(2/3-g)*6:x}if(r===0)o=a=l=e;else{const x=e<.5?e*(1+r):e+r-e*r,h=2*e-x;o=d(h,x,i+1/3),a=d(h,x,i),l=d(h,x,i-1/3)}return[o*255,a*255,l*255]}class A{static applyFilters(r,e){return e.length>0?r.filter(({r:o,g:a,b:l})=>{for(let d=0;d<e.length;d++)if(!e[d]?.(o,a,l,255))return!1;return!0}):r}static clone(r){return new A(r._rgb,r._population)}get r(){return this._rgb[0]}get g(){return this._rgb[1]}get b(){return this._rgb[2]}get rgb(){return this._rgb}get hsl(){if(!this._hsl){const[r,e,o]=this._rgb;this._hsl=Le(r,e,o)}return this._hsl}get hex(){if(!this._hex){const[r,e,o]=this._rgb;this._hex=Se(r,e,o)}return this._hex}get population(){return this._population}toJSON(){return{rgb:this.rgb,population:this.population}}getYiq(){if(!this._yiq){const r=this._rgb;this._yiq=(r[0]*299+r[1]*587+r[2]*114)/1e3}return this._yiq}get titleTextColor(){return this._titleTextColor||(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor}get bodyTextColor(){return this._bodyTextColor||(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor}constructor(r,e){this._rgb=r,this._population=e}}const de=class ne{constructor(r,e){this._src=r,this.opts=Y({},ne.DefaultOpts,e)}static use(r){this._pipeline=r}static from(r){return new fe(r)}get result(){return this._result}_process(r,e){r.scaleDown(this.opts);const o=me(this.opts,e);return ne._pipeline.process(r.getImageData(),o)}async getPalette(){const r=new this.opts.ImageClass;try{const e=await r.load(this._src),o=await this._process(e,{generators:["default"]});this._result=o;const a=o.palettes.default;if(!a)throw new Error("Something went wrong and a palette was not found, please file a bug against our GitHub repo: https://github.com/vibrant-Colors/node-vibrant/");return r.remove(),a}catch(e){return r.remove(),Promise.reject(e)}}async getPalettes(){const r=new this.opts.ImageClass;try{const e=await r.load(this._src),o=await this._process(e,{generators:["*"]});this._result=o;const a=o.palettes;return r.remove(),a}catch(e){return r.remove(),Promise.reject(e)}}};de.DefaultOpts={colorCount:64,quality:5,filters:[]};let V=de;V.DefaultOpts.quantizer="mmcq";V.DefaultOpts.generators=["default"];V.DefaultOpts.filters=["default"];V.DefaultOpts.ImageClass=ge;const se=5,oe=8-se;class Z{constructor(r,e,o,a,l,d,x){this.histogram=x,this._volume=-1,this._avg=null,this._count=-1,this.dimension={r1:r,r2:e,g1:o,g2:a,b1:l,b2:d}}static build(r){const e=new ce(r,{sigBits:se}),{rmin:o,rmax:a,gmin:l,gmax:d,bmin:x,bmax:h}=e;return new Z(o,a,l,d,x,h,e)}invalidate(){this._volume=this._count=-1,this._avg=null}volume(){if(this._volume<0){const{r1:r,r2:e,g1:o,g2:a,b1:l,b2:d}=this.dimension;this._volume=(e-r+1)*(a-o+1)*(d-l+1)}return this._volume}count(){if(this._count<0){const{hist:r,getColorIndex:e}=this.histogram,{r1:o,r2:a,g1:l,g2:d,b1:x,b2:h}=this.dimension;let g=0;for(let S=o;S<=a;S++)for(let j=l;j<=d;j++)for(let L=x;L<=h;L++){const E=e(S,j,L);r[E]&&(g+=r[E])}this._count=g}return this._count}clone(){const{histogram:r}=this,{r1:e,r2:o,g1:a,g2:l,b1:d,b2:x}=this.dimension;return new Z(e,o,a,l,d,x,r)}avg(){if(!this._avg){const{hist:r,getColorIndex:e}=this.histogram,{r1:o,r2:a,g1:l,g2:d,b1:x,b2:h}=this.dimension;let g=0;const S=1<<8-se;let j,L,E;j=L=E=0;for(let c=o;c<=a;c++)for(let O=l;O<=d;O++)for(let I=x;I<=h;I++){const C=e(c,O,I),w=r[C];w&&(g+=w,j+=w*(c+.5)*S,L+=w*(O+.5)*S,E+=w*(I+.5)*S)}g?this._avg=[~~(j/g),~~(L/g),~~(E/g)]:this._avg=[~~(S*(o+a+1)/2),~~(S*(l+d+1)/2),~~(S*(x+h+1)/2)]}return this._avg}contains(r){let[e,o,a]=r;const{r1:l,r2:d,g1:x,g2:h,b1:g,b2:S}=this.dimension;return e>>=oe,o>>=oe,a>>=oe,e>=l&&e<=d&&o>=x&&o<=h&&a>=g&&a<=S}split(){const{hist:r,getColorIndex:e}=this.histogram,{r1:o,r2:a,g1:l,g2:d,b1:x,b2:h}=this.dimension,g=this.count();if(!g)return[];if(g===1)return[this.clone()];const S=a-o+1,j=d-l+1,L=h-x+1,E=Math.max(S,j,L);let c=null,O,I;O=I=0;let C=null;if(E===S){C="r",c=new Uint32Array(a+1);for(let y=o;y<=a;y++){O=0;for(let F=l;F<=d;F++)for(let m=x;m<=h;m++){const f=e(y,F,m);r[f]&&(O+=r[f])}I+=O,c[y]=I}}else if(E===j){C="g",c=new Uint32Array(d+1);for(let y=l;y<=d;y++){O=0;for(let F=o;F<=a;F++)for(let m=x;m<=h;m++){const f=e(F,y,m);r[f]&&(O+=r[f])}I+=O,c[y]=I}}else{C="b",c=new Uint32Array(h+1);for(let y=x;y<=h;y++){O=0;for(let F=o;F<=a;F++)for(let m=l;m<=d;m++){const f=e(F,m,y);r[f]&&(O+=r[f])}I+=O,c[y]=I}}let w=-1;const B=new Uint32Array(c.length);for(let y=0;y<c.length;y++){const F=c[y];F&&(w<0&&F>I/2&&(w=y),B[y]=I-F)}const T=this;function P(y){const F=y+"1",m=y+"2",f=T.dimension[F];let v=T.dimension[m];const N=T.clone(),D=T.clone(),k=w-f,M=v-w;for(k<=M?(v=Math.min(v-1,~~(w+M/2)),v=Math.max(0,v)):(v=Math.max(f,~~(w-1-k/2)),v=Math.min(T.dimension[m],v));!c[v];)v++;let H=B[v];for(;!H&&c[v-1];)H=B[--v];return N.dimension[m]=v,D.dimension[F]=v+1,[N,D]}return P(C)}}class ae{_sort(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)}constructor(r){this._comparator=r,this.contents=[],this._sorted=!1}push(r){this.contents.push(r),this._sorted=!1}peek(r){return this._sort(),r=typeof r=="number"?r:this.contents.length-1,this.contents[r]}pop(){return this._sort(),this.contents.pop()}size(){return this.contents.length}map(r){return this._sort(),this.contents.map(r)}}const Ee=.75;function le(i,r){let e=i.size();for(;i.size()<r;){const o=i.pop();if(o&&o.count()>0){const[a,l]=o.split();if(!a||(i.push(a),l&&l.count()>0&&i.push(l),i.size()===e))break;e=i.size()}else break}}const je=(i,r)=>{if(i.length===0||r.colorCount<2||r.colorCount>256)throw new Error("Wrong MMCQ parameters");const e=Z.build(i);e.histogram.colorCount;const o=new ae((l,d)=>l.count()-d.count());o.push(e),le(o,Ee*r.colorCount);const a=new ae((l,d)=>l.count()*l.volume()-d.count()*d.volume());return a.contents=o.contents,le(a,r.colorCount-a.size()),Oe(a)};function Oe(i){const r=[];for(;i.size();){const e=i.pop(),o=e.avg(),[a,l,d]=o;r.push(new A(o,e.count()))}return r}const Re={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function ve(i){let r=0;return i.forEach(e=>{r=Math.max(r,e.population)}),r}function Ie(i,r){return i.Vibrant===r||i.DarkVibrant===r||i.LightVibrant===r||i.Muted===r||i.DarkMuted===r||i.LightMuted===r}function ke(i,r,e,o,a,l,d){function x(...g){let S=0,j=0;for(let L=0;L<g.length;L+=2){const E=g[L],c=g[L+1];!E||!c||(S+=E*c,j+=c)}return S/j}function h(g,S){return 1-Math.abs(g-S)}return x(h(i,r),d.weightSaturation,h(e,o),d.weightLuma,a/l,d.weightPopulation)}function K(i,r,e,o,a,l,d,x,h,g){let S=null,j=0;return r.forEach(L=>{const[,E,c]=L.hsl;if(E>=x&&E<=h&&c>=a&&c<=l&&!Ie(i,L)){const O=ke(E,d,c,o,L.population,e,g);(S===null||O>j)&&(S=L,j=O)}}),S}function _e(i,r,e){const o={Vibrant:null,DarkVibrant:null,LightVibrant:null,Muted:null,DarkMuted:null,LightMuted:null};return o.Vibrant=K(o,i,r,e.targetNormalLuma,e.minNormalLuma,e.maxNormalLuma,e.targetVibrantSaturation,e.minVibrantSaturation,1,e),o.LightVibrant=K(o,i,r,e.targetLightLuma,e.minLightLuma,1,e.targetVibrantSaturation,e.minVibrantSaturation,1,e),o.DarkVibrant=K(o,i,r,e.targetDarkLuma,0,e.maxDarkLuma,e.targetVibrantSaturation,e.minVibrantSaturation,1,e),o.Muted=K(o,i,r,e.targetNormalLuma,e.minNormalLuma,e.maxNormalLuma,e.targetMutesSaturation,0,e.maxMutesSaturation,e),o.LightMuted=K(o,i,r,e.targetLightLuma,e.minLightLuma,1,e.targetMutesSaturation,0,e.maxMutesSaturation,e),o.DarkMuted=K(o,i,r,e.targetDarkLuma,0,e.maxDarkLuma,e.targetMutesSaturation,0,e.maxMutesSaturation,e),o}function Fe(i,r,e){if(!i.Vibrant&&!i.DarkVibrant&&!i.LightVibrant){if(!i.DarkVibrant&&i.DarkMuted){let[o,a,l]=i.DarkMuted.hsl;l=e.targetDarkLuma,i.DarkVibrant=new A(U(o,a,l),0)}if(!i.LightVibrant&&i.LightMuted){let[o,a,l]=i.LightMuted.hsl;l=e.targetDarkLuma,i.DarkVibrant=new A(U(o,a,l),0)}}if(!i.Vibrant&&i.DarkVibrant){let[o,a,l]=i.DarkVibrant.hsl;l=e.targetNormalLuma,i.Vibrant=new A(U(o,a,l),0)}else if(!i.Vibrant&&i.LightVibrant){let[o,a,l]=i.LightVibrant.hsl;l=e.targetNormalLuma,i.Vibrant=new A(U(o,a,l),0)}if(!i.DarkVibrant&&i.Vibrant){let[o,a,l]=i.Vibrant.hsl;l=e.targetDarkLuma,i.DarkVibrant=new A(U(o,a,l),0)}if(!i.LightVibrant&&i.Vibrant){let[o,a,l]=i.Vibrant.hsl;l=e.targetLightLuma,i.LightVibrant=new A(U(o,a,l),0)}if(!i.Muted&&i.Vibrant){let[o,a,l]=i.Vibrant.hsl;l=e.targetMutesSaturation,i.Muted=new A(U(o,a,l),0)}if(!i.DarkMuted&&i.DarkVibrant){let[o,a,l]=i.DarkVibrant.hsl;l=e.targetMutesSaturation,i.DarkMuted=new A(U(o,a,l),0)}if(!i.LightMuted&&i.LightVibrant){let[o,a,l]=i.LightVibrant.hsl;l=e.targetMutesSaturation,i.LightMuted=new A(U(o,a,l),0)}}const we=((i,r)=>{r=Object.assign({},Re,r);const e=ve(i),o=_e(i,e,r);return Fe(o,e,r),o}),Ce=new ye().filter.register("default",(i,r,e,o)=>o>=125&&!(i>250&&r>250&&e>250)).quantizer.register("mmcq",je).generator.register("default",we);V.use(Ce);function Te({isOpen:i,onClose:r,onApplyTheme:e}){const[o,a]=z.useState(null),[l,d]=z.useState(null),[x,h]=z.useState(!1),[g,S]=z.useState(null),[j,L]=z.useState(null),[E,c]=z.useState(1),O=m=>{const f=m.target.files?.[0];if(!f)return;if(f.size>5*1024*1024){alert("Image must be less than 5MB");return}a(f);const v=URL.createObjectURL(f);d(v),S(null),L(null)},I=(m,f,v)=>"#"+[m,f,v].map(N=>{const D=Math.round(Math.max(0,Math.min(255,N))).toString(16);return D.length===1?"0"+D:D}).join(""),C=(m,f)=>{const v=parseInt(m.slice(1,3),16),N=parseInt(m.slice(3,5),16),D=parseInt(m.slice(5,7),16);return I(v*f,N*f,D*f)},w=(m,f,v=4.5)=>{const N=H=>{const W=parseInt(H.slice(1,3),16)/255,$=parseInt(H.slice(3,5),16)/255,J=parseInt(H.slice(5,7),16)/255;return .2126*W+.7152*$+.0722*J},D=N(m),k=N(f);return(Math.max(D,k)+.05)/(Math.min(D,k)+.05)>=v?f:D>.5?"#000000":"#ffffff"},B=m=>{const f=m,v=f.Vibrant?.hex||"#a78bfa",N=f.DarkVibrant?.hex||"#6d28d9",D=f.LightVibrant?.hex||"#c4b5fd",k=f.Muted?.hex||"#94a3b8",M=f.DarkMuted?.hex||"#1e293b",H=f.LightMuted?.hex||"#cbd5e1",W=E<1?k:v,$=C(M,.3),J=C(M,.8),X=C(M,.6);return{background:$,headerBg:X,cardBg:J,text:w($,H),textSecondary:w($,H,3),textMuted:w($,k,3),accent:W,navButton:C(M,1.2),navButtonHover:C(k,.8),loadingSpinner:D,error:"#f87171",avatarShadow:C(N,.6),textShadow:C($,.5),sidebarButtonBorder:C(M,1.1),sidebarButtonBorderHover:C(k,.9)}},T=async()=>{if(l){h(!0);try{const m=await V.from(l).getPalette();S(m);const f=B(m);L(f)}catch(m){console.error("Failed to analyze image:",m),alert("Failed to analyze image. Please try another image.")}finally{h(!1)}}},P=m=>{if(c(m),g){const f=B(g);L(f)}},y=()=>{j&&(e(j),r())},F=()=>{l&&URL.revokeObjectURL(l),a(null),d(null),S(null),L(null),r()};return i?t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(4px)",zIndex:10003,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},onClick:F,children:t.jsxs("div",{style:{background:"#18181b",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"12px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},onClick:m=>m.stopPropagation(),children:[t.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid rgba(139, 92, 246, 0.2)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h3",{style:{fontSize:"18px",color:"#e4e4e7",margin:0},children:"ðŸŽ¨ Generate Theme from Image"}),t.jsx("button",{onClick:F,style:{background:"none",border:"none",color:"#9ca3af",fontSize:"24px",cursor:"pointer",padding:"0",lineHeight:"1"},children:"Ã—"})]}),t.jsxs("div",{style:{padding:"20px"},children:[!l&&t.jsx("div",{children:t.jsxs("label",{style:{display:"block",padding:"40px",border:"2px dashed rgba(139, 92, 246, 0.4)",borderRadius:"8px",textAlign:"center",cursor:"pointer",background:"rgba(139, 92, 246, 0.05)",transition:"all 0.2s"},onMouseEnter:m=>m.currentTarget.style.background="rgba(139, 92, 246, 0.1)",onMouseLeave:m=>m.currentTarget.style.background="rgba(139, 92, 246, 0.05)",children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:"ðŸ“"}),t.jsx("div",{style:{color:"#a78bfa",fontSize:"14px",marginBottom:"4px"},children:"Click to upload an image"}),t.jsx("div",{style:{color:"#9ca3af",fontSize:"12px"},children:"JPG, PNG, WebP, GIF (max 5MB)"}),t.jsx("input",{type:"file",accept:"image/*",onChange:O,style:{display:"none"}})]})}),l&&t.jsxs("div",{children:[t.jsx("div",{style:{marginBottom:"16px"},children:t.jsx("img",{src:l,alt:"Preview",style:{width:"100%",maxHeight:"200px",objectFit:"contain",borderRadius:"8px",background:"#000"}})}),!g&&t.jsx("button",{onClick:T,disabled:x,style:{width:"100%",padding:"12px",background:x?"#6d28d9":"#8b5cf6",border:"none",borderRadius:"6px",color:"#fff",fontSize:"14px",fontWeight:"600",cursor:x?"not-allowed":"pointer",opacity:x?.7:1},children:x?"Analyzing...":"âœ¨ Analyze & Generate Theme"}),g&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h4",{style:{fontSize:"14px",color:"#e4e4e7",marginBottom:"12px"},children:"Extracted Colors"}),t.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(g).map(([m,f])=>f?t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"60px",height:"60px",background:f.hex,borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.1)",marginBottom:"4px"}}),t.jsx("div",{style:{fontSize:"10px",color:"#9ca3af"},children:m.replace(/([A-Z])/g," $1").trim()})]},m):null)})]}),j&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("label",{style:{fontSize:"13px",color:"#e4e4e7",display:"block",marginBottom:"8px"},children:["Color Intensity: ",E.toFixed(1),"x"]}),t.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:E,onChange:m=>P(parseFloat(m.target.value)),style:{width:"100%",cursor:"pointer"}})]}),j&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h4",{style:{fontSize:"14px",color:"#e4e4e7",marginBottom:"12px"},children:"Generated Theme"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:Object.entries(j).map(([m,f])=>t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"100%",height:"40px",background:f,borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"4px"}}),t.jsx("div",{style:{fontSize:"9px",color:"#9ca3af",wordBreak:"break-word"},children:m})]},m))})]}),j&&t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:T,style:{flex:1,padding:"10px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",color:"#a78bfa",fontSize:"13px",cursor:"pointer"},children:"ðŸ”„ Regenerate"}),t.jsx("button",{onClick:y,style:{flex:2,padding:"10px",background:"#8b5cf6",border:"none",borderRadius:"6px",color:"#fff",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"âœ“ Apply Theme"})]}),!x&&t.jsx("button",{onClick:()=>{URL.revokeObjectURL(l),d(null),a(null),S(null),L(null)},style:{width:"100%",marginTop:"12px",padding:"8px",background:"none",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#9ca3af",fontSize:"12px",cursor:"pointer"},children:"Choose Different Image"})]})]})]})}):null}function De({isOpen:i,onClose:r,config:e,onConfigChange:o}){const[a,l]=z.useState("design"),[d,x]=z.useState(null),[h,g]=z.useState(null),[S,j]=z.useState(!1),[L,E]=z.useState({type:null,index:null}),[c,O]=z.useState(null),[I,C]=z.useState([]),[w,B]=z.useState(!1),[T,P]=z.useState(!1);z.useEffect(()=>{i&&(async()=>{try{const s=await fetch("/themes.json");if(s.ok){const p=await s.json();C(p.themes||[])}}catch(s){console.error("Failed to load themes.json:",s)}})()},[i]),z.useEffect(()=>{i&&!c&&(async()=>{try{const s=await fetch("/config.json");if(s.ok){const p=await s.json();O(p);return}}catch(s){console.error("Failed to load original config.json:",s)}})()},[i,c]);const y=(n,s,p=null,u=null)=>{if(!c)return!1;if(n==="COLOR_THEME")return e.COLOR_THEME[s]!==c.COLOR_THEME[s];if(n==="PROFILE"&&p)return e.PROFILE[s][p]!==c.PROFILE[s][p];if(n==="PROFILE")return e.PROFILE[s]!==c.PROFILE[s];if(n==="SOCIAL_LINKS"&&u!==null){const b=c.SOCIAL_LINKS[u],R=e.SOCIAL_LINKS[u];return JSON.stringify(b)!==JSON.stringify(R)}else{if(n==="FEEDS"&&s==="combineInstagramTikTok")return e.FEEDS.combineInstagramTikTok!==c.FEEDS.combineInstagramTikTok;if(n==="FEEDS"&&s==="generateYouTubePlaylist")return e.FEEDS.generateYouTubePlaylist!==c.FEEDS.generateYouTubePlaylist;if(n==="FEEDS"&&u!==null){const b=c.FEEDS.platforms[u],R=e.FEEDS.platforms[u];return JSON.stringify(b)!==JSON.stringify(R)}}return!1},F=()=>{if(!c)return!1;for(const n in c.COLOR_THEME)if(e.COLOR_THEME[n]!==c.COLOR_THEME[n])return!0;return e.PROFILE.name!==c.PROFILE.name||e.PROFILE.headerDescription!==c.PROFILE.headerDescription||e.PROFILE.background!==c.PROFILE.background||e.PROFILE.avatar!==c.PROFILE.avatar||e.PROFILE.footer!==c.PROFILE.footer||JSON.stringify(e.PROFILE.bio)!==JSON.stringify(c.PROFILE.bio)||JSON.stringify(e.PROFILE.seo)!==JSON.stringify(c.PROFILE.seo)||JSON.stringify(e.SOCIAL_LINKS)!==JSON.stringify(c.SOCIAL_LINKS)||JSON.stringify(e.FEEDS)!==JSON.stringify(c.FEEDS)},m=()=>{c&&(o({COLOR_THEME:JSON.parse(JSON.stringify(c.COLOR_THEME)),PROFILE:JSON.parse(JSON.stringify(c.PROFILE)),SOCIAL_LINKS:JSON.parse(JSON.stringify(c.SOCIAL_LINKS)),FEEDS:JSON.parse(JSON.stringify(c.FEEDS))}),j(!1))},f=n=>{const s=n==="image"?{type:"image",src:"",height:200}:n==="spacer"?{type:"spacer"}:{name:"New Link",url:"https://",icon:"link"};o({...e,SOCIAL_LINKS:[...e.SOCIAL_LINKS,s]})},v=n=>{const s=e.SOCIAL_LINKS.filter((p,u)=>u!==n);o({...e,SOCIAL_LINKS:s}),E({type:null,index:null})},N=()=>{const n={id:"youtube",name:"New Platform",feedUrl:"https://"};o({...e,FEEDS:{...e.FEEDS,platforms:[...e.FEEDS.platforms,n]}})},D=n=>{const s=e.FEEDS.platforms.filter((p,u)=>u!==n);o({...e,FEEDS:{...e.FEEDS,platforms:s}}),E({type:null,index:null})},k=(n,s,p=null,u=null)=>{if(c){if(n==="COLOR_THEME")o({...e,COLOR_THEME:{...e.COLOR_THEME,[s]:c.COLOR_THEME[s]}});else if(n==="PROFILE"&&p)o({...e,PROFILE:{...e.PROFILE,[s]:{...e.PROFILE[s],[p]:c.PROFILE[s][p]}}});else if(n==="PROFILE")o({...e,PROFILE:{...e.PROFILE,[s]:c.PROFILE[s]}});else if(n==="SOCIAL_LINKS"&&u!==null){const b=[...e.SOCIAL_LINKS];b[u]=c.SOCIAL_LINKS[u],o({...e,SOCIAL_LINKS:b})}else if(n==="FEEDS"&&s==="combineInstagramTikTok")o({...e,FEEDS:{...e.FEEDS,combineInstagramTikTok:c.FEEDS.combineInstagramTikTok}});else if(n==="FEEDS"&&s==="generateYouTubePlaylist")o({...e,FEEDS:{...e.FEEDS,generateYouTubePlaylist:c.FEEDS.generateYouTubePlaylist}});else if(n==="FEEDS"&&u!==null){const b=[...e.FEEDS.platforms];b[u]={...c.FEEDS.platforms[u]},o({...e,FEEDS:{...e.FEEDS,platforms:b}})}}},M=n=>{x(n)},H=(n,s)=>{if(n.preventDefault(),n.stopPropagation(),d===null||d===s){x(null),g(null);return}const p=[...e.FEEDS.platforms],[u]=p.splice(d,1);p.splice(s,0,u),o({...e,FEEDS:{...e.FEEDS,platforms:p}}),x(null),g(null)},W=n=>{if(!n.startsWith("rgba"))return null;const s=n.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);return s?{r:parseInt(s[1]),g:parseInt(s[2]),b:parseInt(s[3]),a:s[4]?parseFloat(s[4]):1,hex:`#${((1<<24)+(parseInt(s[1])<<16)+(parseInt(s[2])<<8)+parseInt(s[3])).toString(16).slice(1)}`}:null},$=(n,s)=>{const p=parseInt(n.slice(1,3),16),u=parseInt(n.slice(3,5),16),b=parseInt(n.slice(5,7),16);return`rgba(${p}, ${u}, ${b}, ${s})`},J=()=>{const n={COLOR_THEME:e.COLOR_THEME,PROFILE:e.PROFILE,SOCIAL_LINKS:e.SOCIAL_LINKS,FEEDS:e.FEEDS},s=JSON.stringify(n,null,2),p=new Blob([s],{type:"application/json"}),u=URL.createObjectURL(p),b=document.createElement("a");b.href=u,b.download="config.json",document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(u)},X=async()=>{try{const n=await fetch("/index.html");if(!n.ok)throw new Error("Failed to fetch index.html");let s=await n.text();const p=e.PROFILE.seo;s=s.replace(/<title>.*?<\/title>/,`<title>${p.title}</title>`).replace(/(<meta name="title" content=").*?(")/,`$1${p.titleShort}$2`).replace(/(<meta name="description" content=").*?(")/,`$1${p.description}$2`).replace(/(<meta name="author" content=").*?(")/,`$1${p.author}$2`).replace(/(<meta name="keywords" content=").*?(")/,`$1${p.keywords}$2`).replace(/(<meta property="og:url" content=").*?(")/,`$1${p.siteUrl}$2`).replace(/(<meta property="og:title" content=").*?(")/,`$1${p.titleShort}$2`).replace(/(<meta property="og:description" content=").*?(")/,`$1${p.descriptionShort}$2`).replace(/(<meta property="og:site_name" content=").*?(")/,`$1${p.titleShort}$2`).replace(/(<meta property="og:image" content=").*?(")/,`$1${p.ogImage}$2`).replace(/(<meta property="og:image:alt" content=").*?(")/,`$1${p.titleShort} - ${p.descriptionShort}$2`).replace(/(<meta property="twitter:url" content=").*?(")/,`$1${p.siteUrl}$2`).replace(/(<meta property="twitter:title" content=").*?(")/,`$1${p.titleShort}$2`).replace(/(<meta property="twitter:description" content=").*?(")/,`$1${p.descriptionShort}$2`).replace(/(<meta property="twitter:image" content=").*?(")/,`$1${p.ogImage}$2`).replace(/(<meta property="twitter:image:alt" content=").*?(")/,`$1${p.titleShort} - ${p.descriptionShort}$2`).replace(/(<meta name="theme-color" content=").*?(")/,`$1${p.themeColor}$2`).replace(/(<link rel="canonical" href=").*?(")/,`$1${p.siteUrl}$2`);const u=new Blob([s],{type:"text/html"}),b=URL.createObjectURL(u),R=document.createElement("a");R.href=b,R.download="index.html",document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(b)}catch(n){console.error("Failed to export index.html:",n),alert("Failed to export index.html. Make sure the site is running.")}},ie=n=>{const s=n.target.files?.[0];if(!s)return;const p=new FileReader;p.onload=u=>{try{const b=JSON.parse(u.target.result),R={...e};b.COLOR_THEME&&typeof b.COLOR_THEME=="object"&&(R.COLOR_THEME={...e.COLOR_THEME},Object.keys(e.COLOR_THEME).forEach(_=>{_ in b.COLOR_THEME&&(R.COLOR_THEME[_]=b.COLOR_THEME[_])})),b.PROFILE&&typeof b.PROFILE=="object"&&(R.PROFILE={...e.PROFILE},["background","avatar","name","headerDescription","footer"].forEach(_=>{_ in b.PROFILE&&(R.PROFILE[_]=b.PROFILE[_])}),b.PROFILE.bio&&typeof b.PROFILE.bio=="object"&&(R.PROFILE.bio={...e.PROFILE.bio},["line1","line2","line3"].forEach(_=>{_ in b.PROFILE.bio&&(R.PROFILE.bio[_]=b.PROFILE.bio[_])})),b.PROFILE.seo&&typeof b.PROFILE.seo=="object"&&(R.PROFILE.seo={...e.PROFILE.seo},Object.keys(e.PROFILE.seo).forEach(_=>{_ in b.PROFILE.seo&&(R.PROFILE.seo[_]=b.PROFILE.seo[_])}))),Array.isArray(b.SOCIAL_LINKS)&&(R.SOCIAL_LINKS=b.SOCIAL_LINKS),b.FEEDS&&typeof b.FEEDS=="object"&&(R.FEEDS={...e.FEEDS},"combineInstagramTikTok"in b.FEEDS&&(R.FEEDS.combineInstagramTikTok=b.FEEDS.combineInstagramTikTok),"generateYouTubePlaylist"in b.FEEDS&&(R.FEEDS.generateYouTubePlaylist=b.FEEDS.generateYouTubePlaylist),Array.isArray(b.FEEDS.platforms)&&(R.FEEDS.platforms=b.FEEDS.platforms)),o(R),alert("Config imported successfully!")}catch(b){alert("Failed to import config: Invalid JSON format"),console.error("Import error:",b)}},p.readAsText(s),n.target.value=""},ee=n=>{x(n)},q=(n,s)=>{n.preventDefault(),n.stopPropagation(),d!==null&&s!==d&&g(s)},Q=()=>{x(null),g(null)},te=(n,s)=>{if(n.preventDefault(),n.stopPropagation(),d===null||d===s){x(null),g(null);return}const p=[...e.SOCIAL_LINKS],[u]=p.splice(d,1);p.splice(s,0,u),o({...e,SOCIAL_LINKS:p}),x(null),g(null)};return i?t.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"480px",height:"100vh",background:"rgba(24, 24, 27, 0.98)",backdropFilter:"blur(10px)",borderLeft:"1px solid rgba(139, 92, 246, 0.3)",zIndex:10002,overflowY:"auto",boxShadow:"-4px 0 20px rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"column"},children:[t.jsxs("div",{style:{flex:1,overflowY:"auto",overflowX:"visible"},children:[t.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid rgba(139, 92, 246, 0.2)"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"600",color:"#a78bfa"},children:"Edit Mode (Read-Only)"}),t.jsx("button",{onClick:r,style:{background:"none",border:"none",color:"#a78bfa",fontSize:"24px",cursor:"pointer",padding:"4px 8px"},children:"Ã—"})]}),F()&&t.jsx("div",{children:S?t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:m,style:{flex:1,padding:"8px 12px",background:"#ef4444",border:"none",borderRadius:"6px",color:"#ffffff",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Confirm Restore"}),t.jsx("button",{onClick:()=>j(!1),style:{flex:1,padding:"8px 12px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",color:"#a78bfa",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Cancel"})]}):t.jsx("button",{onClick:()=>j(!0),style:{width:"100%",padding:"8px 12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#ef4444",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Restore All Changes"})})]}),t.jsx("div",{style:{display:"flex",borderBottom:"1px solid rgba(139, 92, 246, 0.2)",padding:"0 20px"},children:["design","profile","social","banner","feeds","seo"].map(n=>t.jsx("button",{onClick:()=>l(n),style:{background:"none",border:"none",color:a===n?"#a78bfa":"#9ca3af",padding:"12px 16px",cursor:"pointer",borderBottom:a===n?"2px solid #a78bfa":"2px solid transparent",textTransform:"capitalize",fontSize:"14px",fontWeight:"500"},children:n},n))}),t.jsxs("div",{style:{padding:"20px",paddingBottom:"100px",overflow:"visible"},children:[a==="design"&&t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsx("h3",{style:{fontSize:"16px",color:"#e4e4e7",margin:0},children:"Color Theme"}),t.jsx("button",{onClick:()=>P(!0),style:{padding:"8px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"6px",color:"#a78bfa",fontSize:"12px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:"ðŸŽ¨ Generate from Image"})]}),I.length>0&&t.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"rgba(139, 92, 246, 0.1)",borderRadius:"8px"},children:[t.jsx("label",{style:{fontSize:"13px",color:"#e4e4e7",marginBottom:"8px",display:"block"},children:"Preset Themes"}),t.jsxs("div",{style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>B(!w),style:{width:"100%",padding:"10px",background:"#1a1625",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",color:"#e4e4e7",fontSize:"13px",cursor:"pointer",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:"Select a preset theme..."}),t.jsx("span",{style:{transform:w?"rotate(180deg)":"rotate(0)",transition:"transform 0.2s"},children:"â–¼"})]}),w&&t.jsxs("div",{style:{position:"absolute",top:"calc(100% + 4px)",left:0,right:0,background:"#1a1625",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",maxHeight:"300px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)"},children:[c&&t.jsx(t.Fragment,{children:t.jsxs("button",{onClick:()=>{o({...e,COLOR_THEME:{...c.COLOR_THEME}}),B(!1)},style:{width:"100%",padding:"10px",background:"none",border:"none",borderBottom:"1px solid rgba(139, 92, 246, 0.2)",color:"#e4e4e7",fontSize:"13px",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"10px",transition:"background 0.2s"},onMouseEnter:n=>n.currentTarget.style.background="rgba(139, 92, 246, 0.2)",onMouseLeave:n=>n.currentTarget.style.background="none",children:[t.jsxs("div",{style:{display:"flex",gap:"4px",flexShrink:0},children:[t.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"3px",backgroundColor:c.COLOR_THEME.accent,border:"1px solid rgba(255, 255, 255, 0.1)"}}),t.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"3px",backgroundColor:c.COLOR_THEME.cardBg,border:"1px solid rgba(255, 255, 255, 0.1)"}})]}),t.jsx("span",{style:{fontWeight:"600"},children:"Current Theme"})]})}),I.map(n=>t.jsxs("button",{onClick:()=>{o({...e,COLOR_THEME:{...n.colors}}),B(!1)},style:{width:"100%",padding:"10px",background:"none",border:"none",color:"#e4e4e7",fontSize:"13px",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"10px",transition:"background 0.2s"},onMouseEnter:s=>s.currentTarget.style.background="rgba(139, 92, 246, 0.2)",onMouseLeave:s=>s.currentTarget.style.background="none",children:[t.jsxs("div",{style:{display:"flex",gap:"4px",flexShrink:0},children:[t.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"3px",backgroundColor:n.colors.accent,border:"1px solid rgba(255, 255, 255, 0.1)"}}),t.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"3px",backgroundColor:n.colors.cardBg,border:"1px solid rgba(255, 255, 255, 0.1)"}})]}),t.jsx("span",{children:n.name})]},n.name))]})]}),t.jsx("p",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"8px"},children:"Choose a preset theme to apply colors instantly. You can customize individual colors below."})]}),Object.entries(e.COLOR_THEME).map(([n,s])=>{const p=W(s),u=p!==null,b=u?p.hex:s.startsWith("#")?s:"#a78bfa",R=u?p.a:1;return t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af",textTransform:"capitalize"},children:n.replace(/([A-Z])/g," $1").trim()}),y("COLOR_THEME",n)&&t.jsx("button",{onClick:()=>k("COLOR_THEME",n),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start",flexDirection:"column"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",width:"100%"},children:[t.jsx("input",{type:"color",value:b,title:`Choose a color for ${n.replace(/([A-Z])/g," $1").trim()}`,"aria-label":`Choose a color for ${n.replace(/([A-Z])/g," $1").trim()}`,onChange:_=>{const G=u?$(_.target.value,R):_.target.value;o({...e,COLOR_THEME:{...e.COLOR_THEME,[n]:G}})},style:{width:"40px",height:"40px",border:"2px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",cursor:"pointer"}}),t.jsx("input",{type:"text",value:s,onChange:_=>{o({...e,COLOR_THEME:{...e.COLOR_THEME,[n]:_.target.value}})},style:{flex:1,padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"13px"}}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"11px",color:"#9ca3af",whiteSpace:"nowrap"},children:[t.jsx("input",{type:"checkbox",checked:u,onChange:_=>{if(_.target.checked){const G=$(b,.9);o({...e,COLOR_THEME:{...e.COLOR_THEME,[n]:G}})}else o({...e,COLOR_THEME:{...e.COLOR_THEME,[n]:b}})},style:{cursor:"pointer"}}),"Alpha"]})]}),u&&t.jsx("div",{style:{width:"100%",paddingLeft:"48px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("label",{style:{fontSize:"11px",color:"#9ca3af",minWidth:"50px"},children:["Alpha: ",R.toFixed(2)]}),t.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:R,onChange:_=>{const G=parseFloat(_.target.value),pe=G===1?b:$(b,G);o({...e,COLOR_THEME:{...e.COLOR_THEME,[n]:pe}})},style:{flex:1,height:"4px",cursor:"pointer"}})]})})]})]},n)}),t.jsxs("div",{style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid rgba(139, 92, 246, 0.2)"},children:[t.jsx("h3",{style:{fontSize:"16px",color:"#e4e4e7",marginBottom:"16px"},children:"Typography"}),t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"13px",color:"#9ca3af",display:"block",marginBottom:"8px"},children:"Font Source"}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"13px",color:"#e4e4e7"},children:[t.jsx("input",{type:"radio",name:"fontSource",checked:!e.GLOBAL_FONT_URL||e.GLOBAL_FONT_URL==="",onChange:()=>{o({...e,GLOBAL_FONT_URL:""})},style:{cursor:"pointer"}}),"System Fonts"]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"13px",color:"#e4e4e7"},children:[t.jsx("input",{type:"radio",name:"fontSource",checked:e.GLOBAL_FONT_URL&&e.GLOBAL_FONT_URL!=="",onChange:()=>{e.GLOBAL_FONT_URL||o({...e,GLOBAL_FONT_URL:"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"})},style:{cursor:"pointer"}}),"Custom Font URL"]})]})]}),(!e.GLOBAL_FONT_URL||e.GLOBAL_FONT_URL==="")&&t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"13px",color:"#9ca3af",display:"block"},children:"Global Font Family"}),c&&e.GLOBAL_FONT!==c.GLOBAL_FONT&&t.jsx("button",{onClick:()=>{o({...e,GLOBAL_FONT:c.GLOBAL_FONT})},style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsxs("select",{value:e.GLOBAL_FONT||"Inter, system-ui, -apple-system, sans-serif",onChange:n=>{o({...e,GLOBAL_FONT:n.target.value})},style:{width:"100%",padding:"10px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"13px",cursor:"pointer",fontFamily:e.GLOBAL_FONT||"Inter, system-ui, -apple-system, sans-serif"},children:[t.jsx("option",{value:"Inter, system-ui, -apple-system, sans-serif",children:"Inter (Default)"}),t.jsx("option",{value:"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",children:"System UI"}),t.jsx("option",{value:"'Helvetica Neue', Helvetica, Arial, sans-serif",children:"Helvetica"}),t.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),t.jsx("option",{value:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",children:"Segoe UI"}),t.jsx("option",{value:"'Trebuchet MS', 'Lucida Sans Unicode', sans-serif",children:"Trebuchet MS"}),t.jsx("option",{value:"Verdana, Geneva, sans-serif",children:"Verdana"}),t.jsx("option",{value:"Georgia, 'Times New Roman', Times, serif",children:"Georgia"}),t.jsx("option",{value:"'Times New Roman', Times, serif",children:"Times New Roman"}),t.jsx("option",{value:"'Courier New', Courier, monospace",children:"Courier New"}),t.jsx("option",{value:"'Lucida Console', Monaco, monospace",children:"Lucida Console"}),t.jsx("option",{value:"'Comic Sans MS', cursive, sans-serif",children:"Comic Sans MS"}),t.jsx("option",{value:"Impact, Haettenschweiler, 'Franklin Gothic Bold', sans-serif",children:"Impact"}),t.jsx("option",{value:"'Brush Script MT', cursive",children:"Brush Script MT"})]}),t.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"8px",lineHeight:"1.5"},children:"System fonts are used for best performance and compatibility."})]}),e.GLOBAL_FONT_URL&&e.GLOBAL_FONT_URL!==""&&t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"13px",color:"#9ca3af",display:"block"},children:"Font URL (Google Fonts, etc.)"}),c&&e.GLOBAL_FONT_URL!==(c.GLOBAL_FONT_URL||"")&&t.jsx("button",{onClick:()=>{o({...e,GLOBAL_FONT_URL:c.GLOBAL_FONT_URL||"",GLOBAL_FONT:c.GLOBAL_FONT})},style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.GLOBAL_FONT_URL||"",onChange:n=>{const s=n.target.value;let p=e.GLOBAL_FONT;if(s.includes("fonts.googleapis.com")&&s.includes("family="))try{const u=[],b=s.matchAll(/family=([^&:]+)/g);for(const R of b){const _=decodeURIComponent(R[1].replace(/\+/g," "));u.push(`'${_}'`)}u.length>0&&(p=u.join(", ")+", sans-serif")}catch{}o({...e,GLOBAL_FONT_URL:s,GLOBAL_FONT:p})},placeholder:"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap",style:{width:"100%",padding:"10px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"13px"}})]}),e.GLOBAL_FONT&&e.GLOBAL_FONT!=="Inter, system-ui, -apple-system, sans-serif"&&t.jsx("div",{style:{padding:"12px",background:"rgba(139, 92, 246, 0.1)",borderRadius:"6px",marginBottom:"8px"},children:t.jsxs("p",{style:{fontSize:"12px",color:"#a78bfa",margin:0,fontFamily:e.GLOBAL_FONT},children:[t.jsx("strong",{children:"Detected Font:"})," ",e.GLOBAL_FONT]})}),t.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"8px",lineHeight:"1.5"},children:"Paste a Google Fonts URL. The font families will be automatically detected and applied to your site."})]})]})]})]}),a==="profile"&&t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",marginBottom:"16px",color:"#e4e4e7"},children:"Profile Information"}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Avatar URL"}),y("PROFILE","avatar")&&t.jsx("button",{onClick:()=>k("PROFILE","avatar"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.avatar,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,avatar:n.target.value}})},placeholder:"/assets/avatar.jpg",style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Background URL"}),y("PROFILE","background")&&t.jsx("button",{onClick:()=>k("PROFILE","background"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.background,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,background:n.target.value}})},placeholder:"Leave empty for solid color",style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Name"}),y("PROFILE","name")&&t.jsx("button",{onClick:()=>k("PROFILE","name"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.name,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,name:n.target.value}})},style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Header Description"}),y("PROFILE","headerDescription")&&t.jsx("button",{onClick:()=>k("PROFILE","headerDescription"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.headerDescription,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,headerDescription:n.target.value}})},style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Bio Line 1"}),y("PROFILE","bio","line1")&&t.jsx("button",{onClick:()=>k("PROFILE","bio","line1"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.bio.line1,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,bio:{...e.PROFILE.bio,line1:n.target.value}}})},style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Bio Line 2"}),y("PROFILE","bio","line2")&&t.jsx("button",{onClick:()=>k("PROFILE","bio","line2"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.bio.line2,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,bio:{...e.PROFILE.bio,line2:n.target.value}}})},style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Bio Line 3"}),y("PROFILE","bio","line3")&&t.jsx("button",{onClick:()=>k("PROFILE","bio","line3"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.bio.line3,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,bio:{...e.PROFILE.bio,line3:n.target.value}}})},style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Footer Text"}),y("PROFILE","footer")&&t.jsx("button",{onClick:()=>k("PROFILE","footer"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.footer,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,footer:n.target.value}})},placeholder:"Updates every 15 minutes",style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]})]}),a==="social"&&t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsx("h3",{style:{fontSize:"16px",margin:0,color:"#e4e4e7"},children:"Social Links"}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>f("link"),style:{padding:"6px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",cursor:"pointer",fontWeight:"500"},children:"+ Link"}),t.jsx("button",{onClick:()=>f("image"),style:{padding:"6px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",cursor:"pointer",fontWeight:"500"},children:"+ Image"}),t.jsx("button",{onClick:()=>f("spacer"),style:{padding:"6px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",cursor:"pointer",fontWeight:"500"},children:"+ Spacer"})]})]}),e.SOCIAL_LINKS.map((n,s)=>n.type==="image"?t.jsxs("div",{draggable:!0,onDragStart:()=>ee(s),onDragOver:p=>q(p,s),onDragEnd:Q,onDrop:p=>te(p,s),style:{marginBottom:"16px",padding:"12px",background:d===s?"rgba(139, 92, 246, 0.3)":"rgba(139, 92, 246, 0.1)",borderRadius:"6px",border:d===s?"2px dashed #a78bfa":h===s&&d!==null?"2px solid #a78bfa":"2px solid transparent",boxShadow:h===s&&d!==null?"0 0 10px rgba(167, 139, 250, 0.5)":"none",cursor:d===s?"grabbing":"grab",opacity:d===s?.5:1,transition:"all 0.2s ease",position:"relative"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"16px",color:"#9ca3af",cursor:"grab"},children:"â‹®â‹®"}),t.jsxs("p",{style:{fontSize:"12px",color:"#9ca3af",margin:0},children:["Image ",s+1]})]}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[y("SOCIAL_LINKS",null,null,s)&&t.jsx("button",{onClick:()=>k("SOCIAL_LINKS",null,null,s),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"}),L.type==="social"&&L.index===s?t.jsxs("div",{style:{display:"flex",gap:"4px"},children:[t.jsx("button",{onClick:()=>v(s),style:{background:"#ef4444",border:"none",borderRadius:"4px",color:"#ffffff",fontSize:"11px",padding:"2px 8px",cursor:"pointer",fontWeight:"600"},children:"Confirm"}),t.jsx("button",{onClick:()=>E({type:null,index:null}),style:{background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Cancel"})]}):t.jsx("button",{onClick:()=>E({type:"social",index:s}),style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",color:"#ef4444",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Delete"})]})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Image URL"}),t.jsx("input",{type:"text",value:n.src,onChange:p=>{const u=[...e.SOCIAL_LINKS];u[s]={...n,src:p.target.value},o({...e,SOCIAL_LINKS:u})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Height (px)"}),t.jsx("input",{type:"number",value:n.height,onChange:p=>{const u=[...e.SOCIAL_LINKS];u[s]={...n,height:parseInt(p.target.value)},o({...e,SOCIAL_LINKS:u})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"}})]})]},s):n.type==="spacer"?t.jsxs("div",{draggable:!0,onDragStart:()=>ee(s),onDragOver:p=>q(p,s),onDragEnd:Q,onDrop:p=>te(p,s),style:{marginBottom:"16px",padding:"12px",background:d===s?"rgba(139, 92, 246, 0.2)":"rgba(139, 92, 246, 0.05)",borderRadius:"6px",border:d===s?"2px dashed #a78bfa":h===s&&d!==null?"2px solid #a78bfa":"2px solid transparent",boxShadow:h===s&&d!==null?"0 0 10px rgba(167, 139, 250, 0.5)":"none",cursor:d===s?"grabbing":"grab",opacity:d===s?.5:1,transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"16px",color:"#9ca3af"},children:"â‹®â‹®"}),t.jsx("p",{style:{fontSize:"12px",color:"#9ca3af",margin:0},children:"Spacer"})]}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[y("SOCIAL_LINKS",null,null,s)&&t.jsx("button",{onClick:()=>k("SOCIAL_LINKS",null,null,s),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"}),L.type==="social"&&L.index===s?t.jsxs("div",{style:{display:"flex",gap:"4px"},children:[t.jsx("button",{onClick:()=>v(s),style:{background:"#ef4444",border:"none",borderRadius:"4px",color:"#ffffff",fontSize:"11px",padding:"2px 8px",cursor:"pointer",fontWeight:"600"},children:"Confirm"}),t.jsx("button",{onClick:()=>E({type:null,index:null}),style:{background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Cancel"})]}):t.jsx("button",{onClick:()=>E({type:"social",index:s}),style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",color:"#ef4444",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Delete"})]})]},s):t.jsxs("div",{draggable:!0,onDragStart:()=>ee(s),onDragOver:p=>q(p,s),onDragEnd:Q,onDrop:p=>te(p,s),style:{marginBottom:"16px",padding:"12px",background:d===s?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.2)",borderRadius:"6px",border:d===s?"2px dashed #a78bfa":h===s&&d!==null?"2px solid #a78bfa":"1px solid rgba(139, 92, 246, 0.2)",boxShadow:h===s&&d!==null?"0 0 10px rgba(167, 139, 250, 0.5)":"none",cursor:d===s?"grabbing":"grab",opacity:d===s?.5:1,transition:"all 0.2s ease"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"16px",color:"#9ca3af"},children:"â‹®â‹®"}),t.jsxs("span",{style:{fontSize:"12px",color:"#9ca3af"},children:["Link ",s+1]})]}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[y("SOCIAL_LINKS",null,null,s)&&t.jsx("button",{onClick:()=>k("SOCIAL_LINKS",null,null,s),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"}),L.type==="social"&&L.index===s?t.jsxs("div",{style:{display:"flex",gap:"4px"},children:[t.jsx("button",{onClick:()=>v(s),style:{background:"#ef4444",border:"none",borderRadius:"4px",color:"#ffffff",fontSize:"11px",padding:"2px 8px",cursor:"pointer",fontWeight:"600"},children:"Confirm"}),t.jsx("button",{onClick:()=>E({type:null,index:null}),style:{background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Cancel"})]}):t.jsx("button",{onClick:()=>E({type:"social",index:s}),style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",color:"#ef4444",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Delete"})]})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Link Name"}),t.jsx("input",{type:"text",value:n.name,onChange:p=>{const u=[...e.SOCIAL_LINKS];u[s]={...n,name:p.target.value},o({...e,SOCIAL_LINKS:u})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"}})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"URL"}),t.jsx("input",{type:"text",value:n.url,onChange:p=>{const u=[...e.SOCIAL_LINKS];u[s]={...n,url:p.target.value},o({...e,SOCIAL_LINKS:u})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Icon"}),t.jsxs("select",{value:n.icon,onChange:p=>{const u=[...e.SOCIAL_LINKS];u[s]={...n,icon:p.target.value},o({...e,SOCIAL_LINKS:u})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px",cursor:"pointer"},children:[t.jsx("option",{value:"youtube",children:"YouTube"}),t.jsx("option",{value:"twitter",children:"Twitter"}),t.jsx("option",{value:"instagram",children:"Instagram"}),t.jsx("option",{value:"tiktok",children:"TikTok"}),t.jsx("option",{value:"twitch",children:"Twitch"}),t.jsx("option",{value:"discord",children:"Discord"}),t.jsx("option",{value:"patreon",children:"Patreon"}),t.jsx("option",{value:"crown",children:"Throne (Crown)"}),t.jsx("option",{value:"shopping",children:"Shopping"}),t.jsx("option",{value:"gamersupps",children:"GamerSupps"}),t.jsx("option",{value:"heart",children:"Heart (Donate)"}),t.jsx("option",{value:"link",children:"Link (Generic)"})]})]})]},s))]}),a==="banner"&&t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",marginBottom:"16px",color:"#e4e4e7"},children:"Banner Panel"}),t.jsx("div",{style:{marginBottom:"16px"},children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:e.BANNER?.enabled||!1,onChange:n=>{o({...e,BANNER:{...e.BANNER,enabled:n.target.checked}})},style:{cursor:"pointer"}}),t.jsx("span",{style:{fontSize:"13px",color:"#e4e4e7"},children:"Show Banner Panel"})]})}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{display:"block",fontSize:"13px",color:"#e4e4e7",marginBottom:"6px"},children:"Title"}),t.jsx("input",{type:"text",value:e.BANNER?.title||"",onChange:n=>{o({...e,BANNER:{...e.BANNER,title:n.target.value}})},placeholder:"Banner title",style:{width:"100%",padding:"8px",background:"#1a1a1a",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#e4e4e7",fontSize:"13px"}})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{display:"block",fontSize:"13px",color:"#e4e4e7",marginBottom:"6px"},children:"Panel Width (%)"}),t.jsx("input",{type:"number",value:e.BANNER?.width||100,onChange:n=>{o({...e,BANNER:{...e.BANNER,width:Math.min(100,Math.max(20,parseInt(n.target.value)||100))}})},min:"20",max:"100",placeholder:"100",style:{width:"100px",padding:"8px",background:"#1a1a1a",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#e4e4e7",fontSize:"13px"}})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{display:"block",fontSize:"13px",color:"#e4e4e7",marginBottom:"6px"},children:"Description (HTML allowed, no JavaScript)"}),t.jsx("textarea",{value:e.BANNER?.description||"",onChange:n=>{o({...e,BANNER:{...e.BANNER,description:n.target.value}})},placeholder:"Description text or HTML",rows:4,style:{width:"100%",padding:"8px",background:"#1a1a1a",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#e4e4e7",fontSize:"13px",fontFamily:"monospace",resize:"vertical"}})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",marginBottom:"8px"},children:[t.jsx("input",{type:"checkbox",checked:e.BANNER?.expiresEnabled||!1,onChange:n=>{o({...e,BANNER:{...e.BANNER,expiresEnabled:n.target.checked}})},style:{cursor:"pointer"}}),t.jsx("span",{style:{fontSize:"13px",color:"#e4e4e7"},children:"Set Expiration Date"})]}),e.BANNER?.expiresEnabled&&t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",color:"#9ca3af",marginBottom:"4px"},children:"Expires On (local time)"}),t.jsx("input",{type:"datetime-local",value:e.BANNER?.expiresDate||"",onChange:n=>{o({...e,BANNER:{...e.BANNER,expiresDate:n.target.value}})},style:{width:"100%",padding:"8px",background:"#1a1a1a",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#e4e4e7",fontSize:"13px"}})]})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{display:"block",fontSize:"13px",color:"#e4e4e7",marginBottom:"6px"},children:"Images (up to 2)"}),e.BANNER?.images?.map((n,s)=>t.jsx("div",{style:{marginBottom:"12px",padding:"12px",background:"rgba(139, 92, 246, 0.1)",borderRadius:"6px"},children:t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsxs("label",{style:{display:"block",fontSize:"12px",color:"#9ca3af",marginBottom:"4px"},children:["Image ",s+1," URL"]}),t.jsx("input",{type:"text",value:n.url||"",onChange:p=>{const u=[...e.BANNER?.images||[]];u[s]={...u[s],url:p.target.value},o({...e,BANNER:{...e.BANNER,images:u}})},placeholder:"https://example.com/image.jpg",style:{width:"100%",padding:"6px",background:"#1a1a1a",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"}})]})},s))]})]}),a==="feeds"&&t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",marginBottom:"16px",color:"#e4e4e7"},children:"Content Feeds"}),t.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"rgba(139, 92, 246, 0.1)",borderRadius:"6px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"13px",color:"#e4e4e7"},children:"Combine Instagram & TikTok"}),y("FEEDS","combineInstagramTikTok")&&t.jsx("button",{onClick:()=>k("FEEDS","combineInstagramTikTok"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:e.FEEDS.combineInstagramTikTok,onChange:n=>{o({...e,FEEDS:{...e.FEEDS,combineInstagramTikTok:n.target.checked}})},style:{cursor:"pointer"}}),t.jsx("span",{style:{fontSize:"12px",color:"#9ca3af"},children:"Merge into one row and remove TikTok duplicates"})]})]}),t.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"rgba(139, 92, 246, 0.1)",borderRadius:"6px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"13px",color:"#e4e4e7"},children:"YouTube Playlist Generator"}),y("FEEDS","generateYouTubePlaylist")&&t.jsx("button",{onClick:()=>k("FEEDS","generateYouTubePlaylist"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:e.FEEDS.generateYouTubePlaylist||!1,onChange:n=>{o({...e,FEEDS:{...e.FEEDS,generateYouTubePlaylist:n.target.checked}})},style:{cursor:"pointer"}}),t.jsx("span",{style:{fontSize:"12px",color:"#9ca3af"},children:'Show "Open Playlist" button (videos in reverse order)'})]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[t.jsx("h4",{style:{fontSize:"14px",margin:0,color:"#e4e4e7"},children:"Platform Feeds"}),t.jsx("button",{onClick:N,style:{padding:"6px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",cursor:"pointer",fontWeight:"500"},children:"+ Add Platform"})]}),e.FEEDS.platforms.map((n,s)=>t.jsxs("div",{draggable:!0,onDragStart:()=>M(s),onDragOver:p=>q(p,s),onDragEnd:Q,onDrop:p=>H(p,s),style:{marginBottom:"16px",padding:"12px",background:d===s?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.2)",borderRadius:"6px",border:d===s?"2px dashed #a78bfa":h===s&&d!==null?"2px solid #a78bfa":"1px solid rgba(139, 92, 246, 0.2)",boxShadow:h===s&&d!==null?"0 0 10px rgba(167, 139, 250, 0.5)":"none",cursor:d===s?"grabbing":"grab",opacity:d===s?.5:1,transition:"all 0.2s ease"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"16px",color:"#9ca3af"},children:"â‹®â‹®"}),t.jsx("span",{style:{fontSize:"13px",color:"#e4e4e7",fontWeight:"500"},children:n.name})]}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[y("FEEDS",null,null,s)&&t.jsx("button",{onClick:()=>k("FEEDS",null,null,s),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"}),L.type==="feed"&&L.index===s?t.jsxs("div",{style:{display:"flex",gap:"4px"},children:[t.jsx("button",{onClick:()=>D(s),style:{background:"#ef4444",border:"none",borderRadius:"4px",color:"#ffffff",fontSize:"11px",padding:"2px 8px",cursor:"pointer",fontWeight:"600"},children:"Confirm"}),t.jsx("button",{onClick:()=>E({type:null,index:null}),style:{background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Cancel"})]}):t.jsx("button",{onClick:()=>E({type:"feed",index:s}),style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",color:"#ef4444",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Delete"})]})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Platform Type"}),t.jsxs("select",{value:n.id,onChange:p=>{const u=[...e.FEEDS.platforms];u[s]={...n,id:p.target.value},o({...e,FEEDS:{...e.FEEDS,platforms:u}})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px",cursor:"pointer"},children:[t.jsx("option",{value:"youtube",children:"YouTube"}),t.jsx("option",{value:"instagram",children:"Instagram"}),t.jsx("option",{value:"tiktok",children:"TikTok"}),t.jsx("option",{value:"twitch",children:"Twitch"})]})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Display Name"}),t.jsx("input",{type:"text",value:n.name,onChange:p=>{const u=[...e.FEEDS.platforms];u[s]={...n,name:p.target.value},o({...e,FEEDS:{...e.FEEDS,platforms:u}})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"}})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Feed URL (JSON)"}),t.jsx("input",{type:"text",value:n.feedUrl,onChange:p=>{const u=[...e.FEEDS.platforms];u[s]={...n,feedUrl:p.target.value},o({...e,FEEDS:{...e.FEEDS,platforms:u}})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"},placeholder:"https://..."})]})]},s))]}),a==="seo"&&t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",marginBottom:"16px",color:"#e4e4e7"},children:"SEO & Meta Tags"}),Object.entries(e.PROFILE.seo).map(([n,s])=>t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af",textTransform:"capitalize"},children:n.replace(/([A-Z])/g," $1").trim()}),y("PROFILE","seo",n)&&t.jsx("button",{onClick:()=>k("PROFILE","seo",n),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),n==="description"||n==="descriptionShort"||n==="keywords"?t.jsx("textarea",{value:s,onChange:p=>{o({...e,PROFILE:{...e.PROFILE,seo:{...e.PROFILE.seo,[n]:p.target.value}}})},rows:n==="keywords"?3:4,style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"13px",resize:"vertical",fontFamily:"inherit"}}):t.jsx("input",{type:"text",value:s,onChange:p=>{o({...e,PROFILE:{...e.PROFILE,seo:{...e.PROFILE.seo,[n]:p.target.value}}})},style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"13px"}})]},n))]})]})]}),t.jsx("div",{style:{position:"relative",bottom:0,left:0,right:0,background:"rgba(24, 24, 27, 0.98)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(139, 92, 246, 0.3)",padding:"16px 20px",zIndex:1e3},children:t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsxs("button",{onClick:J,style:{flex:1,padding:"10px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"6px",color:"#a78bfa",fontSize:"12px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},title:"Download current config as JSON",children:[t.jsx("span",{children:"â†“"})," Export JSON"]}),t.jsxs("button",{onClick:X,style:{flex:1,padding:"10px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"6px",color:"#a78bfa",fontSize:"12px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},title:"Download index.html with updated SEO tags",children:[t.jsx("span",{children:"â†“"})," Export HTML"]}),t.jsxs("label",{style:{flex:1,padding:"10px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"6px",color:"#a78bfa",fontSize:"12px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},title:"Upload config.json to import",children:[t.jsx("span",{children:"â†‘"})," Import",t.jsx("input",{type:"file",accept:".json",onChange:ie,style:{display:"none"}})]})]})}),t.jsx(Te,{isOpen:T,onClose:()=>P(!1),onApplyTheme:n=>{o({...e,COLOR_THEME:n})}})]}):null}export{De as default};
