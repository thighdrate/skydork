import{r as P,j as t}from"./index-gVIZAiA6.js";class ce{constructor(r,e){this.pixels=r,this.opts=e;const{sigBits:o}=e,a=(D,B,y)=>(D<<2*o)+(B<<o)+y;this.getColorIndex=a;const l=8-o,d=1<<3*o,u=new Uint32Array(d);let b,g,S,L,E,j,c,I,v,C;b=S=E=0,g=L=j=Number.MAX_VALUE;const F=r.length/4;let T=0;for(;T<F;){const D=T*4;if(T++,c=r[D+0],I=r[D+1],v=r[D+2],C=r[D+3],C===0)continue;c=c>>l,I=I>>l,v=v>>l;const B=a(c,I,v);u[B]===void 0&&(u[B]=0),u[B]+=1,c>b&&(b=c),c<g&&(g=c),I>S&&(S=I),I<L&&(L=I),v>E&&(E=v),v<j&&(j=v)}this._colorCount=u.reduce((D,B)=>B>0?D+1:D,0),this.hist=u,this.rmax=b,this.rmin=g,this.gmax=S,this.gmin=L,this.bmax=E,this.bmin=j}get colorCount(){return this._colorCount}}class ue{scaleDown(r){const e=this.getWidth(),o=this.getHeight();let a=1;if(r.maxDimension>0){const l=Math.max(e,o);l>r.maxDimension&&(a=r.maxDimension/l)}else a=1/r.quality;a<1&&this.resize(e*a,o*a,a)}}function xe(s,r){if(r.length>0){const e=s.data,o=e.length/4;let a,l,d,u,b;for(let g=0;g<o;g++){a=g*4,l=e[a+0],d=e[a+1],u=e[a+2],b=e[a+3];for(let S=0;S<r.length;S++)if(!r[S]?.(l,d,u,b)){e[a+3]=0;break}}}return s}function be(s){const r=new URL(s,location.href);return r.protocol===location.protocol&&r.host===location.host&&r.port===location.port}function he(s,r){const e=new URL(s),o=new URL(r);return e.protocol===o.protocol&&e.hostname===o.hostname&&e.port===o.port}class ge extends ue{_getCanvas(){if(!this._canvas)throw new Error("Canvas is not initialized");return this._canvas}_getContext(){if(!this._context)throw new Error("Context is not initialized");return this._context}_getWidth(){if(!this._width)throw new Error("Width is not initialized");return this._width}_getHeight(){if(!this._height)throw new Error("Height is not initialized");return this._height}_initCanvas(){const r=this.image;if(!r)throw new Error("Image is not initialized");const e=this._canvas=document.createElement("canvas"),o=e.getContext("2d");if(!o)throw new ReferenceError("Failed to create canvas context");this._context=o,e.className="@vibrant/canvas",e.style.display="none",this._width=e.width=r.width,this._height=e.height=r.height,o.drawImage(r,0,0),document.body.appendChild(e)}load(r){let e,o;if(typeof r=="string")e=document.createElement("img"),o=r,!be(o)&&!he(window.location.href,o)&&(e.crossOrigin="anonymous"),e.src=o;else if(r instanceof HTMLImageElement)e=r,o=r.src;else return Promise.reject(new Error("Cannot load buffer as an image in browser"));return this.image=e,new Promise((a,l)=>{const d=()=>{this._initCanvas(),a(this)};e.complete?d():(e.onload=d,e.onerror=u=>l(new Error(`Fail to load image: ${o}`)))})}clear(){this._getContext().clearRect(0,0,this._getWidth(),this._getHeight())}update(r){this._getContext().putImageData(r,0,0)}getWidth(){return this._getWidth()}getHeight(){return this._getHeight()}resize(r,e,o){if(!this.image)throw new Error("Image is not initialized");this._width=this._getCanvas().width=r,this._height=this._getCanvas().height=e,this._getContext().scale(o,o),this._getContext().drawImage(this.image,0,0)}getPixelCount(){return this._getWidth()*this._getHeight()}getImageData(){return this._getContext().getImageData(0,0,this._getWidth(),this._getHeight())}remove(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)}}function G(s,...r){return r.forEach(e=>{if(e){for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];Array.isArray(a)?s[o]=a.slice(0):typeof a=="object"?(s[o]||(s[o]={}),G(s[o],a)):s[o]=a}}}),s}function me(s,r){const{colorCount:e,quantizer:o,generators:a,filters:l}=s,d={colorCount:e},u=typeof o=="string"?{name:o,options:{}}:o;return u.options=G({},d,u.options),G({},{quantizer:u,generators:a,filters:l},r)}class fe{constructor(r,e={}){this._src=r,this._opts=G({},U.DefaultOpts,e)}maxColorCount(r){return this._opts.colorCount=r,this}maxDimension(r){return this._opts.maxDimension=r,this}addFilter(r){return this._opts.filters?this._opts.filters.push(r):this._opts.filters=[r],this}removeFilter(r){if(this._opts.filters){const e=this._opts.filters.indexOf(r);e>0&&this._opts.filters.splice(e)}return this}clearFilters(){return this._opts.filters=[],this}quality(r){return this._opts.quality=r,this}useImageClass(r){return this._opts.ImageClass=r,this}useGenerator(r,e){return this._opts.generators||(this._opts.generators=[]),this._opts.generators.push(e?{name:r,options:e}:r),this}useQuantizer(r,e){return this._opts.quantizer=e?{name:r,options:e}:r,this}build(){return new U(this._src,this._opts)}getPalette(){return this.build().getPalette()}}class re{constructor(r){this.pipeline=r,this._map={}}names(){return Object.keys(this._map)}has(r){return!!this._map[r]}get(r){return this._map[r]}register(r,e){return this._map[r]=e,this.pipeline}}class ye{constructor(){this.filter=new re(this),this.quantizer=new re(this),this.generator=new re(this)}_buildProcessTasks({filters:r,quantizer:e,generators:o}){return o.length===1&&o[0]==="*"&&(o=this.generator.names()),{filters:r.map(l=>a(this.filter,l)),quantizer:a(this.quantizer,e),generators:o.map(l=>a(this.generator,l))};function a(l,d){let u,b;return typeof d=="string"?u=d:(u=d.name,b=d.options),{name:u,fn:l.get(u),options:b}}}async process(r,e){const{filters:o,quantizer:a,generators:l}=this._buildProcessTasks(e),d=await this._filterColors(o,r),u=await this._generateColors(a,d),b=await this._generatePalettes(l,u);return{colors:u,palettes:b}}_filterColors(r,e){return Promise.resolve(xe(e,r.map(({fn:o})=>o)))}_generateColors(r,e){return Promise.resolve(r.fn(e.data,r.options))}async _generatePalettes(r,e){const o=await Promise.all(r.map(({fn:a,options:l})=>Promise.resolve(a(e,l))));return Promise.resolve(o.reduce((a,l,d)=>(a[r[d].name]=l,a),{}))}}function Se(s,r,e){return"#"+((1<<24)+(s<<16)+(r<<8)+e).toString(16).slice(1,7)}function Ee(s,r,e){s/=255,r/=255,e/=255;const o=Math.max(s,r,e),a=Math.min(s,r,e);let l=0,d=0;const u=(o+a)/2;if(o!==a){const b=o-a;switch(d=u>.5?b/(2-o-a):b/(o+a),o){case s:l=(r-e)/b+(r<e?6:0);break;case r:l=(e-s)/b+2;break;case e:l=(s-r)/b+4;break}l/=6}return[l,d,u]}function V(s,r,e){let o,a,l;function d(u,b,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?u+(b-u)*6*g:g<1/2?b:g<2/3?u+(b-u)*(2/3-g)*6:u}if(r===0)o=a=l=e;else{const u=e<.5?e*(1+r):e+r-e*r,b=2*e-u;o=d(b,u,s+1/3),a=d(b,u,s),l=d(b,u,s-1/3)}return[o*255,a*255,l*255]}class M{static applyFilters(r,e){return e.length>0?r.filter(({r:o,g:a,b:l})=>{for(let d=0;d<e.length;d++)if(!e[d]?.(o,a,l,255))return!1;return!0}):r}static clone(r){return new M(r._rgb,r._population)}get r(){return this._rgb[0]}get g(){return this._rgb[1]}get b(){return this._rgb[2]}get rgb(){return this._rgb}get hsl(){if(!this._hsl){const[r,e,o]=this._rgb;this._hsl=Ee(r,e,o)}return this._hsl}get hex(){if(!this._hex){const[r,e,o]=this._rgb;this._hex=Se(r,e,o)}return this._hex}get population(){return this._population}toJSON(){return{rgb:this.rgb,population:this.population}}getYiq(){if(!this._yiq){const r=this._rgb;this._yiq=(r[0]*299+r[1]*587+r[2]*114)/1e3}return this._yiq}get titleTextColor(){return this._titleTextColor||(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor}get bodyTextColor(){return this._bodyTextColor||(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor}constructor(r,e){this._rgb=r,this._population=e}}const de=class ne{constructor(r,e){this._src=r,this.opts=G({},ne.DefaultOpts,e)}static use(r){this._pipeline=r}static from(r){return new fe(r)}get result(){return this._result}_process(r,e){r.scaleDown(this.opts);const o=me(this.opts,e);return ne._pipeline.process(r.getImageData(),o)}async getPalette(){const r=new this.opts.ImageClass;try{const e=await r.load(this._src),o=await this._process(e,{generators:["default"]});this._result=o;const a=o.palettes.default;if(!a)throw new Error("Something went wrong and a palette was not found, please file a bug against our GitHub repo: https://github.com/vibrant-Colors/node-vibrant/");return r.remove(),a}catch(e){return r.remove(),Promise.reject(e)}}async getPalettes(){const r=new this.opts.ImageClass;try{const e=await r.load(this._src),o=await this._process(e,{generators:["*"]});this._result=o;const a=o.palettes;return r.remove(),a}catch(e){return r.remove(),Promise.reject(e)}}};de.DefaultOpts={colorCount:64,quality:5,filters:[]};let U=de;U.DefaultOpts.quantizer="mmcq";U.DefaultOpts.generators=["default"];U.DefaultOpts.filters=["default"];U.DefaultOpts.ImageClass=ge;const ie=5,oe=8-ie;class Z{constructor(r,e,o,a,l,d,u){this.histogram=u,this._volume=-1,this._avg=null,this._count=-1,this.dimension={r1:r,r2:e,g1:o,g2:a,b1:l,b2:d}}static build(r){const e=new ce(r,{sigBits:ie}),{rmin:o,rmax:a,gmin:l,gmax:d,bmin:u,bmax:b}=e;return new Z(o,a,l,d,u,b,e)}invalidate(){this._volume=this._count=-1,this._avg=null}volume(){if(this._volume<0){const{r1:r,r2:e,g1:o,g2:a,b1:l,b2:d}=this.dimension;this._volume=(e-r+1)*(a-o+1)*(d-l+1)}return this._volume}count(){if(this._count<0){const{hist:r,getColorIndex:e}=this.histogram,{r1:o,r2:a,g1:l,g2:d,b1:u,b2:b}=this.dimension;let g=0;for(let S=o;S<=a;S++)for(let L=l;L<=d;L++)for(let E=u;E<=b;E++){const j=e(S,L,E);r[j]&&(g+=r[j])}this._count=g}return this._count}clone(){const{histogram:r}=this,{r1:e,r2:o,g1:a,g2:l,b1:d,b2:u}=this.dimension;return new Z(e,o,a,l,d,u,r)}avg(){if(!this._avg){const{hist:r,getColorIndex:e}=this.histogram,{r1:o,r2:a,g1:l,g2:d,b1:u,b2:b}=this.dimension;let g=0;const S=1<<8-ie;let L,E,j;L=E=j=0;for(let c=o;c<=a;c++)for(let I=l;I<=d;I++)for(let v=u;v<=b;v++){const C=e(c,I,v),F=r[C];F&&(g+=F,L+=F*(c+.5)*S,E+=F*(I+.5)*S,j+=F*(v+.5)*S)}g?this._avg=[~~(L/g),~~(E/g),~~(j/g)]:this._avg=[~~(S*(o+a+1)/2),~~(S*(l+d+1)/2),~~(S*(u+b+1)/2)]}return this._avg}contains(r){let[e,o,a]=r;const{r1:l,r2:d,g1:u,g2:b,b1:g,b2:S}=this.dimension;return e>>=oe,o>>=oe,a>>=oe,e>=l&&e<=d&&o>=u&&o<=b&&a>=g&&a<=S}split(){const{hist:r,getColorIndex:e}=this.histogram,{r1:o,r2:a,g1:l,g2:d,b1:u,b2:b}=this.dimension,g=this.count();if(!g)return[];if(g===1)return[this.clone()];const S=a-o+1,L=d-l+1,E=b-u+1,j=Math.max(S,L,E);let c=null,I,v;I=v=0;let C=null;if(j===S){C="r",c=new Uint32Array(a+1);for(let y=o;y<=a;y++){I=0;for(let _=l;_<=d;_++)for(let m=u;m<=b;m++){const f=e(y,_,m);r[f]&&(I+=r[f])}v+=I,c[y]=v}}else if(j===L){C="g",c=new Uint32Array(d+1);for(let y=l;y<=d;y++){I=0;for(let _=o;_<=a;_++)for(let m=u;m<=b;m++){const f=e(_,y,m);r[f]&&(I+=r[f])}v+=I,c[y]=v}}else{C="b",c=new Uint32Array(b+1);for(let y=u;y<=b;y++){I=0;for(let _=o;_<=a;_++)for(let m=l;m<=d;m++){const f=e(_,m,y);r[f]&&(I+=r[f])}v+=I,c[y]=v}}let F=-1;const T=new Uint32Array(c.length);for(let y=0;y<c.length;y++){const _=c[y];_&&(F<0&&_>v/2&&(F=y),T[y]=v-_)}const D=this;function B(y){const _=y+"1",m=y+"2",f=D.dimension[_];let R=D.dimension[m];const N=D.clone(),z=D.clone(),k=F-f,A=R-F;for(k<=A?(R=Math.min(R-1,~~(F+A/2)),R=Math.max(0,R)):(R=Math.max(f,~~(F-1-k/2)),R=Math.min(D.dimension[m],R));!c[R];)R++;let H=T[R];for(;!H&&c[R-1];)H=T[--R];return N.dimension[m]=R,z.dimension[_]=R+1,[N,z]}return B(C)}}class ae{_sort(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)}constructor(r){this._comparator=r,this.contents=[],this._sorted=!1}push(r){this.contents.push(r),this._sorted=!1}peek(r){return this._sort(),r=typeof r=="number"?r:this.contents.length-1,this.contents[r]}pop(){return this._sort(),this.contents.pop()}size(){return this.contents.length}map(r){return this._sort(),this.contents.map(r)}}const je=.75;function le(s,r){let e=s.size();for(;s.size()<r;){const o=s.pop();if(o&&o.count()>0){const[a,l]=o.split();if(!a||(s.push(a),l&&l.count()>0&&s.push(l),s.size()===e))break;e=s.size()}else break}}const Le=(s,r)=>{if(s.length===0||r.colorCount<2||r.colorCount>256)throw new Error("Wrong MMCQ parameters");const e=Z.build(s);e.histogram.colorCount;const o=new ae((l,d)=>l.count()-d.count());o.push(e),le(o,je*r.colorCount);const a=new ae((l,d)=>l.count()*l.volume()-d.count()*d.volume());return a.contents=o.contents,le(a,r.colorCount-a.size()),Ie(a)};function Ie(s){const r=[];for(;s.size();){const e=s.pop(),o=e.avg(),[a,l,d]=o;r.push(new M(o,e.count()))}return r}const Re={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function ve(s){let r=0;return s.forEach(e=>{r=Math.max(r,e.population)}),r}function Oe(s,r){return s.Vibrant===r||s.DarkVibrant===r||s.LightVibrant===r||s.Muted===r||s.DarkMuted===r||s.LightMuted===r}function ke(s,r,e,o,a,l,d){function u(...g){let S=0,L=0;for(let E=0;E<g.length;E+=2){const j=g[E],c=g[E+1];!j||!c||(S+=j*c,L+=c)}return S/L}function b(g,S){return 1-Math.abs(g-S)}return u(b(s,r),d.weightSaturation,b(e,o),d.weightLuma,a/l,d.weightPopulation)}function W(s,r,e,o,a,l,d,u,b,g){let S=null,L=0;return r.forEach(E=>{const[,j,c]=E.hsl;if(j>=u&&j<=b&&c>=a&&c<=l&&!Oe(s,E)){const I=ke(j,d,c,o,E.population,e,g);(S===null||I>L)&&(S=E,L=I)}}),S}function we(s,r,e){const o={Vibrant:null,DarkVibrant:null,LightVibrant:null,Muted:null,DarkMuted:null,LightMuted:null};return o.Vibrant=W(o,s,r,e.targetNormalLuma,e.minNormalLuma,e.maxNormalLuma,e.targetVibrantSaturation,e.minVibrantSaturation,1,e),o.LightVibrant=W(o,s,r,e.targetLightLuma,e.minLightLuma,1,e.targetVibrantSaturation,e.minVibrantSaturation,1,e),o.DarkVibrant=W(o,s,r,e.targetDarkLuma,0,e.maxDarkLuma,e.targetVibrantSaturation,e.minVibrantSaturation,1,e),o.Muted=W(o,s,r,e.targetNormalLuma,e.minNormalLuma,e.maxNormalLuma,e.targetMutesSaturation,0,e.maxMutesSaturation,e),o.LightMuted=W(o,s,r,e.targetLightLuma,e.minLightLuma,1,e.targetMutesSaturation,0,e.maxMutesSaturation,e),o.DarkMuted=W(o,s,r,e.targetDarkLuma,0,e.maxDarkLuma,e.targetMutesSaturation,0,e.maxMutesSaturation,e),o}function _e(s,r,e){if(!s.Vibrant&&!s.DarkVibrant&&!s.LightVibrant){if(!s.DarkVibrant&&s.DarkMuted){let[o,a,l]=s.DarkMuted.hsl;l=e.targetDarkLuma,s.DarkVibrant=new M(V(o,a,l),0)}if(!s.LightVibrant&&s.LightMuted){let[o,a,l]=s.LightMuted.hsl;l=e.targetDarkLuma,s.DarkVibrant=new M(V(o,a,l),0)}}if(!s.Vibrant&&s.DarkVibrant){let[o,a,l]=s.DarkVibrant.hsl;l=e.targetNormalLuma,s.Vibrant=new M(V(o,a,l),0)}else if(!s.Vibrant&&s.LightVibrant){let[o,a,l]=s.LightVibrant.hsl;l=e.targetNormalLuma,s.Vibrant=new M(V(o,a,l),0)}if(!s.DarkVibrant&&s.Vibrant){let[o,a,l]=s.Vibrant.hsl;l=e.targetDarkLuma,s.DarkVibrant=new M(V(o,a,l),0)}if(!s.LightVibrant&&s.Vibrant){let[o,a,l]=s.Vibrant.hsl;l=e.targetLightLuma,s.LightVibrant=new M(V(o,a,l),0)}if(!s.Muted&&s.Vibrant){let[o,a,l]=s.Vibrant.hsl;l=e.targetMutesSaturation,s.Muted=new M(V(o,a,l),0)}if(!s.DarkMuted&&s.DarkVibrant){let[o,a,l]=s.DarkVibrant.hsl;l=e.targetMutesSaturation,s.DarkMuted=new M(V(o,a,l),0)}if(!s.LightMuted&&s.LightVibrant){let[o,a,l]=s.LightVibrant.hsl;l=e.targetMutesSaturation,s.LightMuted=new M(V(o,a,l),0)}}const Fe=((s,r)=>{r=Object.assign({},Re,r);const e=ve(s),o=we(s,e,r);return _e(o,e,r),o}),Ce=new ye().filter.register("default",(s,r,e,o)=>o>=125&&!(s>250&&r>250&&e>250)).quantizer.register("mmcq",Le).generator.register("default",Fe);U.use(Ce);function De({isOpen:s,onClose:r,onApplyTheme:e}){const[o,a]=P.useState(null),[l,d]=P.useState(null),[u,b]=P.useState(!1),[g,S]=P.useState(null),[L,E]=P.useState(null),[j,c]=P.useState(1),I=m=>{const f=m.target.files?.[0];if(!f)return;if(f.size>5*1024*1024){alert("Image must be less than 5MB");return}a(f);const R=URL.createObjectURL(f);d(R),S(null),E(null)},v=(m,f,R)=>"#"+[m,f,R].map(N=>{const z=Math.round(Math.max(0,Math.min(255,N))).toString(16);return z.length===1?"0"+z:z}).join(""),C=(m,f)=>{const R=parseInt(m.slice(1,3),16),N=parseInt(m.slice(3,5),16),z=parseInt(m.slice(5,7),16);return v(R*f,N*f,z*f)},F=(m,f,R=4.5)=>{const N=H=>{const J=parseInt(H.slice(1,3),16)/255,$=parseInt(H.slice(3,5),16)/255,Y=parseInt(H.slice(5,7),16)/255;return .2126*J+.7152*$+.0722*Y},z=N(m),k=N(f);return(Math.max(z,k)+.05)/(Math.min(z,k)+.05)>=R?f:z>.5?"#000000":"#ffffff"},T=m=>{const f=m,R=f.Vibrant?.hex||"#a78bfa",N=f.DarkVibrant?.hex||"#6d28d9",z=f.LightVibrant?.hex||"#c4b5fd",k=f.Muted?.hex||"#94a3b8",A=f.DarkMuted?.hex||"#1e293b",H=f.LightMuted?.hex||"#cbd5e1",J=j<1?k:R,$=C(A,.3),Y=C(A,.8),X=C(A,.6);return{background:$,headerBg:X,cardBg:Y,text:F($,H),textSecondary:F($,H,3),textMuted:F($,k,3),accent:J,navButton:C(A,1.2),navButtonHover:C(k,.8),loadingSpinner:z,error:"#f87171",avatarShadow:C(N,.6),textShadow:C($,.5),sidebarButtonBorder:C(A,1.1),sidebarButtonBorderHover:C(k,.9)}},D=async()=>{if(l){b(!0);try{const m=await U.from(l).getPalette();S(m);const f=T(m);E(f)}catch(m){console.error("Failed to analyze image:",m),alert("Failed to analyze image. Please try another image.")}finally{b(!1)}}},B=m=>{if(c(m),g){const f=T(g);E(f)}},y=()=>{L&&(e(L),r())},_=()=>{l&&URL.revokeObjectURL(l),a(null),d(null),S(null),E(null),r()};return s?t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(4px)",zIndex:10003,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},onClick:_,children:t.jsxs("div",{style:{background:"#18181b",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"12px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},onClick:m=>m.stopPropagation(),children:[t.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid rgba(139, 92, 246, 0.2)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h3",{style:{fontSize:"18px",color:"#e4e4e7",margin:0},children:"ðŸŽ¨ Generate Theme from Image"}),t.jsx("button",{onClick:_,style:{background:"none",border:"none",color:"#9ca3af",fontSize:"24px",cursor:"pointer",padding:"0",lineHeight:"1"},children:"Ã—"})]}),t.jsxs("div",{style:{padding:"20px"},children:[!l&&t.jsx("div",{children:t.jsxs("label",{style:{display:"block",padding:"40px",border:"2px dashed rgba(139, 92, 246, 0.4)",borderRadius:"8px",textAlign:"center",cursor:"pointer",background:"rgba(139, 92, 246, 0.05)",transition:"all 0.2s"},onMouseEnter:m=>m.currentTarget.style.background="rgba(139, 92, 246, 0.1)",onMouseLeave:m=>m.currentTarget.style.background="rgba(139, 92, 246, 0.05)",children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:"ðŸ“"}),t.jsx("div",{style:{color:"#a78bfa",fontSize:"14px",marginBottom:"4px"},children:"Click to upload an image"}),t.jsx("div",{style:{color:"#9ca3af",fontSize:"12px"},children:"JPG, PNG, WebP, GIF (max 5MB)"}),t.jsx("input",{type:"file",accept:"image/*",onChange:I,style:{display:"none"}})]})}),l&&t.jsxs("div",{children:[t.jsx("div",{style:{marginBottom:"16px"},children:t.jsx("img",{src:l,alt:"Preview",style:{width:"100%",maxHeight:"200px",objectFit:"contain",borderRadius:"8px",background:"#000"}})}),!g&&t.jsx("button",{onClick:D,disabled:u,style:{width:"100%",padding:"12px",background:u?"#6d28d9":"#8b5cf6",border:"none",borderRadius:"6px",color:"#fff",fontSize:"14px",fontWeight:"600",cursor:u?"not-allowed":"pointer",opacity:u?.7:1},children:u?"Analyzing...":"âœ¨ Analyze & Generate Theme"}),g&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h4",{style:{fontSize:"14px",color:"#e4e4e7",marginBottom:"12px"},children:"Extracted Colors"}),t.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(g).map(([m,f])=>f?t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"60px",height:"60px",background:f.hex,borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.1)",marginBottom:"4px"}}),t.jsx("div",{style:{fontSize:"10px",color:"#9ca3af"},children:m.replace(/([A-Z])/g," $1").trim()})]},m):null)})]}),L&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("label",{style:{fontSize:"13px",color:"#e4e4e7",display:"block",marginBottom:"8px"},children:["Color Intensity: ",j.toFixed(1),"x"]}),t.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:j,onChange:m=>B(parseFloat(m.target.value)),style:{width:"100%",cursor:"pointer"}})]}),L&&t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h4",{style:{fontSize:"14px",color:"#e4e4e7",marginBottom:"12px"},children:"Generated Theme"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:Object.entries(L).map(([m,f])=>t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"100%",height:"40px",background:f,borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"4px"}}),t.jsx("div",{style:{fontSize:"9px",color:"#9ca3af",wordBreak:"break-word"},children:m})]},m))})]}),L&&t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:D,style:{flex:1,padding:"10px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",color:"#a78bfa",fontSize:"13px",cursor:"pointer"},children:"ðŸ”„ Regenerate"}),t.jsx("button",{onClick:y,style:{flex:2,padding:"10px",background:"#8b5cf6",border:"none",borderRadius:"6px",color:"#fff",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"âœ“ Apply Theme"})]}),!u&&t.jsx("button",{onClick:()=>{URL.revokeObjectURL(l),d(null),a(null),S(null),E(null)},style:{width:"100%",marginTop:"12px",padding:"8px",background:"none",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#9ca3af",fontSize:"12px",cursor:"pointer"},children:"Choose Different Image"})]})]})]})}):null}function ze({isOpen:s,onClose:r,config:e,onConfigChange:o}){const[a,l]=P.useState("colors"),[d,u]=P.useState(null),[b,g]=P.useState(null),[S,L]=P.useState(!1),[E,j]=P.useState({type:null,index:null}),[c,I]=P.useState(null),[v,C]=P.useState([]),[F,T]=P.useState(!1),[D,B]=P.useState(!1);P.useEffect(()=>{s&&(async()=>{try{const i=await fetch("/themes.json");if(i.ok){const p=await i.json();C(p.themes||[])}}catch(i){console.error("Failed to load themes.json:",i)}})()},[s]),P.useEffect(()=>{s&&!c&&(async()=>{try{const i=await fetch("/config.json");if(i.ok){const p=await i.json();I(p);return}}catch(i){console.error("Failed to load original config.json:",i)}})()},[s,c]);const y=(n,i,p=null,x=null)=>{if(!c)return!1;if(n==="COLOR_THEME")return e.COLOR_THEME[i]!==c.COLOR_THEME[i];if(n==="PROFILE"&&p)return e.PROFILE[i][p]!==c.PROFILE[i][p];if(n==="PROFILE")return e.PROFILE[i]!==c.PROFILE[i];if(n==="SOCIAL_LINKS"&&x!==null){const h=c.SOCIAL_LINKS[x],O=e.SOCIAL_LINKS[x];return JSON.stringify(h)!==JSON.stringify(O)}else{if(n==="FEEDS"&&i==="combineInstagramTikTok")return e.FEEDS.combineInstagramTikTok!==c.FEEDS.combineInstagramTikTok;if(n==="FEEDS"&&i==="generateYouTubePlaylist")return e.FEEDS.generateYouTubePlaylist!==c.FEEDS.generateYouTubePlaylist;if(n==="FEEDS"&&x!==null){const h=c.FEEDS.platforms[x],O=e.FEEDS.platforms[x];return JSON.stringify(h)!==JSON.stringify(O)}}return!1},_=()=>{if(!c)return!1;for(const n in c.COLOR_THEME)if(e.COLOR_THEME[n]!==c.COLOR_THEME[n])return!0;return e.PROFILE.name!==c.PROFILE.name||e.PROFILE.headerDescription!==c.PROFILE.headerDescription||e.PROFILE.background!==c.PROFILE.background||e.PROFILE.avatar!==c.PROFILE.avatar||e.PROFILE.footer!==c.PROFILE.footer||JSON.stringify(e.PROFILE.bio)!==JSON.stringify(c.PROFILE.bio)||JSON.stringify(e.PROFILE.seo)!==JSON.stringify(c.PROFILE.seo)||JSON.stringify(e.SOCIAL_LINKS)!==JSON.stringify(c.SOCIAL_LINKS)||JSON.stringify(e.FEEDS)!==JSON.stringify(c.FEEDS)},m=()=>{c&&(o({COLOR_THEME:JSON.parse(JSON.stringify(c.COLOR_THEME)),PROFILE:JSON.parse(JSON.stringify(c.PROFILE)),SOCIAL_LINKS:JSON.parse(JSON.stringify(c.SOCIAL_LINKS)),FEEDS:JSON.parse(JSON.stringify(c.FEEDS))}),L(!1))},f=n=>{const i=n==="image"?{type:"image",src:"",height:200}:n==="spacer"?{type:"spacer"}:{name:"New Link",url:"https://",icon:"link"};o({...e,SOCIAL_LINKS:[...e.SOCIAL_LINKS,i]})},R=n=>{const i=e.SOCIAL_LINKS.filter((p,x)=>x!==n);o({...e,SOCIAL_LINKS:i}),j({type:null,index:null})},N=()=>{const n={id:"youtube",name:"New Platform",feedUrl:"https://"};o({...e,FEEDS:{...e.FEEDS,platforms:[...e.FEEDS.platforms,n]}})},z=n=>{const i=e.FEEDS.platforms.filter((p,x)=>x!==n);o({...e,FEEDS:{...e.FEEDS,platforms:i}}),j({type:null,index:null})},k=(n,i,p=null,x=null)=>{if(c){if(n==="COLOR_THEME")o({...e,COLOR_THEME:{...e.COLOR_THEME,[i]:c.COLOR_THEME[i]}});else if(n==="PROFILE"&&p)o({...e,PROFILE:{...e.PROFILE,[i]:{...e.PROFILE[i],[p]:c.PROFILE[i][p]}}});else if(n==="PROFILE")o({...e,PROFILE:{...e.PROFILE,[i]:c.PROFILE[i]}});else if(n==="SOCIAL_LINKS"&&x!==null){const h=[...e.SOCIAL_LINKS];h[x]=c.SOCIAL_LINKS[x],o({...e,SOCIAL_LINKS:h})}else if(n==="FEEDS"&&i==="combineInstagramTikTok")o({...e,FEEDS:{...e.FEEDS,combineInstagramTikTok:c.FEEDS.combineInstagramTikTok}});else if(n==="FEEDS"&&i==="generateYouTubePlaylist")o({...e,FEEDS:{...e.FEEDS,generateYouTubePlaylist:c.FEEDS.generateYouTubePlaylist}});else if(n==="FEEDS"&&x!==null){const h=[...e.FEEDS.platforms];h[x]={...c.FEEDS.platforms[x]},o({...e,FEEDS:{...e.FEEDS,platforms:h}})}}},A=n=>{u(n)},H=(n,i)=>{if(n.preventDefault(),n.stopPropagation(),d===null||d===i){u(null),g(null);return}const p=[...e.FEEDS.platforms],[x]=p.splice(d,1);p.splice(i,0,x),o({...e,FEEDS:{...e.FEEDS,platforms:p}}),u(null),g(null)},J=n=>{if(!n.startsWith("rgba"))return null;const i=n.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);return i?{r:parseInt(i[1]),g:parseInt(i[2]),b:parseInt(i[3]),a:i[4]?parseFloat(i[4]):1,hex:`#${((1<<24)+(parseInt(i[1])<<16)+(parseInt(i[2])<<8)+parseInt(i[3])).toString(16).slice(1)}`}:null},$=(n,i)=>{const p=parseInt(n.slice(1,3),16),x=parseInt(n.slice(3,5),16),h=parseInt(n.slice(5,7),16);return`rgba(${p}, ${x}, ${h}, ${i})`},Y=()=>{const n={COLOR_THEME:e.COLOR_THEME,PROFILE:e.PROFILE,SOCIAL_LINKS:e.SOCIAL_LINKS,FEEDS:e.FEEDS},i=JSON.stringify(n,null,2),p=new Blob([i],{type:"application/json"}),x=URL.createObjectURL(p),h=document.createElement("a");h.href=x,h.download="config.json",document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(x)},X=async()=>{try{const n=await fetch("/index.html");if(!n.ok)throw new Error("Failed to fetch index.html");let i=await n.text();const p=e.PROFILE.seo;i=i.replace(/<title>.*?<\/title>/,`<title>${p.title}</title>`).replace(/(<meta name="title" content=").*?(")/,`$1${p.titleShort}$2`).replace(/(<meta name="description" content=").*?(")/,`$1${p.description}$2`).replace(/(<meta name="author" content=").*?(")/,`$1${p.author}$2`).replace(/(<meta name="keywords" content=").*?(")/,`$1${p.keywords}$2`).replace(/(<meta property="og:url" content=").*?(")/,`$1${p.siteUrl}$2`).replace(/(<meta property="og:title" content=").*?(")/,`$1${p.titleShort}$2`).replace(/(<meta property="og:description" content=").*?(")/,`$1${p.descriptionShort}$2`).replace(/(<meta property="og:site_name" content=").*?(")/,`$1${p.titleShort}$2`).replace(/(<meta property="og:image" content=").*?(")/,`$1${p.ogImage}$2`).replace(/(<meta property="og:image:alt" content=").*?(")/,`$1${p.titleShort} - ${p.descriptionShort}$2`).replace(/(<meta property="twitter:url" content=").*?(")/,`$1${p.siteUrl}$2`).replace(/(<meta property="twitter:title" content=").*?(")/,`$1${p.titleShort}$2`).replace(/(<meta property="twitter:description" content=").*?(")/,`$1${p.descriptionShort}$2`).replace(/(<meta property="twitter:image" content=").*?(")/,`$1${p.ogImage}$2`).replace(/(<meta property="twitter:image:alt" content=").*?(")/,`$1${p.titleShort} - ${p.descriptionShort}$2`).replace(/(<meta name="theme-color" content=").*?(")/,`$1${p.themeColor}$2`).replace(/(<link rel="canonical" href=").*?(")/,`$1${p.siteUrl}$2`);const x=new Blob([i],{type:"text/html"}),h=URL.createObjectURL(x),O=document.createElement("a");O.href=h,O.download="index.html",document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(h)}catch(n){console.error("Failed to export index.html:",n),alert("Failed to export index.html. Make sure the site is running.")}},se=n=>{const i=n.target.files?.[0];if(!i)return;const p=new FileReader;p.onload=x=>{try{const h=JSON.parse(x.target.result),O={...e};h.COLOR_THEME&&typeof h.COLOR_THEME=="object"&&(O.COLOR_THEME={...e.COLOR_THEME},Object.keys(e.COLOR_THEME).forEach(w=>{w in h.COLOR_THEME&&(O.COLOR_THEME[w]=h.COLOR_THEME[w])})),h.PROFILE&&typeof h.PROFILE=="object"&&(O.PROFILE={...e.PROFILE},["background","avatar","name","headerDescription","footer"].forEach(w=>{w in h.PROFILE&&(O.PROFILE[w]=h.PROFILE[w])}),h.PROFILE.bio&&typeof h.PROFILE.bio=="object"&&(O.PROFILE.bio={...e.PROFILE.bio},["line1","line2","line3"].forEach(w=>{w in h.PROFILE.bio&&(O.PROFILE.bio[w]=h.PROFILE.bio[w])})),h.PROFILE.seo&&typeof h.PROFILE.seo=="object"&&(O.PROFILE.seo={...e.PROFILE.seo},Object.keys(e.PROFILE.seo).forEach(w=>{w in h.PROFILE.seo&&(O.PROFILE.seo[w]=h.PROFILE.seo[w])}))),Array.isArray(h.SOCIAL_LINKS)&&(O.SOCIAL_LINKS=h.SOCIAL_LINKS),h.FEEDS&&typeof h.FEEDS=="object"&&(O.FEEDS={...e.FEEDS},"combineInstagramTikTok"in h.FEEDS&&(O.FEEDS.combineInstagramTikTok=h.FEEDS.combineInstagramTikTok),"generateYouTubePlaylist"in h.FEEDS&&(O.FEEDS.generateYouTubePlaylist=h.FEEDS.generateYouTubePlaylist),Array.isArray(h.FEEDS.platforms)&&(O.FEEDS.platforms=h.FEEDS.platforms)),o(O),alert("Config imported successfully!")}catch(h){alert("Failed to import config: Invalid JSON format"),console.error("Import error:",h)}},p.readAsText(i),n.target.value=""},ee=n=>{u(n)},q=(n,i)=>{n.preventDefault(),n.stopPropagation(),d!==null&&i!==d&&g(i)},Q=()=>{u(null),g(null)},te=(n,i)=>{if(n.preventDefault(),n.stopPropagation(),d===null||d===i){u(null),g(null);return}const p=[...e.SOCIAL_LINKS],[x]=p.splice(d,1);p.splice(i,0,x),o({...e,SOCIAL_LINKS:p}),u(null),g(null)};return s?t.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"480px",height:"100vh",background:"rgba(24, 24, 27, 0.98)",backdropFilter:"blur(10px)",borderLeft:"1px solid rgba(139, 92, 246, 0.3)",zIndex:10002,overflowY:"auto",boxShadow:"-4px 0 20px rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"column"},children:[t.jsxs("div",{style:{flex:1,overflowY:"auto",overflowX:"visible"},children:[t.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid rgba(139, 92, 246, 0.2)"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"600",color:"#a78bfa"},children:"Edit Mode (Read-Only)"}),t.jsx("button",{onClick:r,style:{background:"none",border:"none",color:"#a78bfa",fontSize:"24px",cursor:"pointer",padding:"4px 8px"},children:"Ã—"})]}),_()&&t.jsx("div",{children:S?t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:m,style:{flex:1,padding:"8px 12px",background:"#ef4444",border:"none",borderRadius:"6px",color:"#ffffff",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Confirm Restore"}),t.jsx("button",{onClick:()=>L(!1),style:{flex:1,padding:"8px 12px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",color:"#a78bfa",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Cancel"})]}):t.jsx("button",{onClick:()=>L(!0),style:{width:"100%",padding:"8px 12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#ef4444",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Restore All Changes"})})]}),t.jsx("div",{style:{display:"flex",borderBottom:"1px solid rgba(139, 92, 246, 0.2)",padding:"0 20px"},children:["colors","profile","social","banner","feeds","seo"].map(n=>t.jsx("button",{onClick:()=>l(n),style:{background:"none",border:"none",color:a===n?"#a78bfa":"#9ca3af",padding:"12px 16px",cursor:"pointer",borderBottom:a===n?"2px solid #a78bfa":"2px solid transparent",textTransform:"capitalize",fontSize:"14px",fontWeight:"500"},children:n},n))}),t.jsxs("div",{style:{padding:"20px",paddingBottom:"100px",overflow:"visible"},children:[a==="colors"&&t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsx("h3",{style:{fontSize:"16px",color:"#e4e4e7",margin:0},children:"Color Theme"}),t.jsx("button",{onClick:()=>B(!0),style:{padding:"8px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"6px",color:"#a78bfa",fontSize:"12px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:"ðŸŽ¨ Generate from Image"})]}),v.length>0&&t.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"rgba(139, 92, 246, 0.1)",borderRadius:"8px"},children:[t.jsx("label",{style:{fontSize:"13px",color:"#e4e4e7",marginBottom:"8px",display:"block"},children:"Preset Themes"}),t.jsxs("div",{style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>T(!F),style:{width:"100%",padding:"10px",background:"#1a1625",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",color:"#e4e4e7",fontSize:"13px",cursor:"pointer",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:"Select a preset theme..."}),t.jsx("span",{style:{transform:F?"rotate(180deg)":"rotate(0)",transition:"transform 0.2s"},children:"â–¼"})]}),F&&t.jsxs("div",{style:{position:"absolute",top:"calc(100% + 4px)",left:0,right:0,background:"#1a1625",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",maxHeight:"300px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)"},children:[c&&t.jsx(t.Fragment,{children:t.jsxs("button",{onClick:()=>{o({...e,COLOR_THEME:{...c.COLOR_THEME}}),T(!1)},style:{width:"100%",padding:"10px",background:"none",border:"none",borderBottom:"1px solid rgba(139, 92, 246, 0.2)",color:"#e4e4e7",fontSize:"13px",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"10px",transition:"background 0.2s"},onMouseEnter:n=>n.currentTarget.style.background="rgba(139, 92, 246, 0.2)",onMouseLeave:n=>n.currentTarget.style.background="none",children:[t.jsxs("div",{style:{display:"flex",gap:"4px",flexShrink:0},children:[t.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"3px",backgroundColor:c.COLOR_THEME.accent,border:"1px solid rgba(255, 255, 255, 0.1)"}}),t.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"3px",backgroundColor:c.COLOR_THEME.cardBg,border:"1px solid rgba(255, 255, 255, 0.1)"}})]}),t.jsx("span",{style:{fontWeight:"600"},children:"Current Theme"})]})}),v.map(n=>t.jsxs("button",{onClick:()=>{o({...e,COLOR_THEME:{...n.colors}}),T(!1)},style:{width:"100%",padding:"10px",background:"none",border:"none",color:"#e4e4e7",fontSize:"13px",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",gap:"10px",transition:"background 0.2s"},onMouseEnter:i=>i.currentTarget.style.background="rgba(139, 92, 246, 0.2)",onMouseLeave:i=>i.currentTarget.style.background="none",children:[t.jsxs("div",{style:{display:"flex",gap:"4px",flexShrink:0},children:[t.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"3px",backgroundColor:n.colors.accent,border:"1px solid rgba(255, 255, 255, 0.1)"}}),t.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"3px",backgroundColor:n.colors.cardBg,border:"1px solid rgba(255, 255, 255, 0.1)"}})]}),t.jsx("span",{children:n.name})]},n.name))]})]}),t.jsx("p",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"8px"},children:"Choose a preset theme to apply colors instantly. You can customize individual colors below."})]}),Object.entries(e.COLOR_THEME).map(([n,i])=>{const p=J(i),x=p!==null,h=x?p.hex:i.startsWith("#")?i:"#a78bfa",O=x?p.a:1;return t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af",textTransform:"capitalize"},children:n.replace(/([A-Z])/g," $1").trim()}),y("COLOR_THEME",n)&&t.jsx("button",{onClick:()=>k("COLOR_THEME",n),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-start",flexDirection:"column"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",width:"100%"},children:[t.jsx("input",{type:"color",value:h,title:`Choose a color for ${n.replace(/([A-Z])/g," $1").trim()}`,"aria-label":`Choose a color for ${n.replace(/([A-Z])/g," $1").trim()}`,onChange:w=>{const K=x?$(w.target.value,O):w.target.value;o({...e,COLOR_THEME:{...e.COLOR_THEME,[n]:K}})},style:{width:"40px",height:"40px",border:"2px solid rgba(139, 92, 246, 0.3)",borderRadius:"6px",cursor:"pointer"}}),t.jsx("input",{type:"text",value:i,onChange:w=>{o({...e,COLOR_THEME:{...e.COLOR_THEME,[n]:w.target.value}})},style:{flex:1,padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"13px"}}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"11px",color:"#9ca3af",whiteSpace:"nowrap"},children:[t.jsx("input",{type:"checkbox",checked:x,onChange:w=>{if(w.target.checked){const K=$(h,.9);o({...e,COLOR_THEME:{...e.COLOR_THEME,[n]:K}})}else o({...e,COLOR_THEME:{...e.COLOR_THEME,[n]:h}})},style:{cursor:"pointer"}}),"Alpha"]})]}),x&&t.jsx("div",{style:{width:"100%",paddingLeft:"48px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("label",{style:{fontSize:"11px",color:"#9ca3af",minWidth:"50px"},children:["Alpha: ",O.toFixed(2)]}),t.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:O,onChange:w=>{const K=parseFloat(w.target.value),pe=K===1?h:$(h,K);o({...e,COLOR_THEME:{...e.COLOR_THEME,[n]:pe}})},style:{flex:1,height:"4px",cursor:"pointer"}})]})})]})]},n)})]}),a==="profile"&&t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",marginBottom:"16px",color:"#e4e4e7"},children:"Profile Information"}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Avatar URL"}),y("PROFILE","avatar")&&t.jsx("button",{onClick:()=>k("PROFILE","avatar"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.avatar,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,avatar:n.target.value}})},placeholder:"/assets/avatar.jpg",style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Background URL"}),y("PROFILE","background")&&t.jsx("button",{onClick:()=>k("PROFILE","background"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.background,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,background:n.target.value}})},placeholder:"Leave empty for solid color",style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Name"}),y("PROFILE","name")&&t.jsx("button",{onClick:()=>k("PROFILE","name"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.name,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,name:n.target.value}})},style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Header Description"}),y("PROFILE","headerDescription")&&t.jsx("button",{onClick:()=>k("PROFILE","headerDescription"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.headerDescription,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,headerDescription:n.target.value}})},style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Bio Line 1"}),y("PROFILE","bio","line1")&&t.jsx("button",{onClick:()=>k("PROFILE","bio","line1"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.bio.line1,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,bio:{...e.PROFILE.bio,line1:n.target.value}}})},style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Bio Line 2"}),y("PROFILE","bio","line2")&&t.jsx("button",{onClick:()=>k("PROFILE","bio","line2"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.bio.line2,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,bio:{...e.PROFILE.bio,line2:n.target.value}}})},style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Bio Line 3"}),y("PROFILE","bio","line3")&&t.jsx("button",{onClick:()=>k("PROFILE","bio","line3"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.bio.line3,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,bio:{...e.PROFILE.bio,line3:n.target.value}}})},style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af"},children:"Footer Text"}),y("PROFILE","footer")&&t.jsx("button",{onClick:()=>k("PROFILE","footer"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsx("input",{type:"text",value:e.PROFILE.footer,onChange:n=>{o({...e,PROFILE:{...e.PROFILE,footer:n.target.value}})},placeholder:"Updates every 15 minutes",style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"14px"}})]})]}),a==="social"&&t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsx("h3",{style:{fontSize:"16px",margin:0,color:"#e4e4e7"},children:"Social Links"}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>f("link"),style:{padding:"6px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",cursor:"pointer",fontWeight:"500"},children:"+ Link"}),t.jsx("button",{onClick:()=>f("image"),style:{padding:"6px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",cursor:"pointer",fontWeight:"500"},children:"+ Image"}),t.jsx("button",{onClick:()=>f("spacer"),style:{padding:"6px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",cursor:"pointer",fontWeight:"500"},children:"+ Spacer"})]})]}),e.SOCIAL_LINKS.map((n,i)=>n.type==="image"?t.jsxs("div",{draggable:!0,onDragStart:()=>ee(i),onDragOver:p=>q(p,i),onDragEnd:Q,onDrop:p=>te(p,i),style:{marginBottom:"16px",padding:"12px",background:d===i?"rgba(139, 92, 246, 0.3)":"rgba(139, 92, 246, 0.1)",borderRadius:"6px",border:d===i?"2px dashed #a78bfa":b===i&&d!==null?"2px solid #a78bfa":"2px solid transparent",boxShadow:b===i&&d!==null?"0 0 10px rgba(167, 139, 250, 0.5)":"none",cursor:d===i?"grabbing":"grab",opacity:d===i?.5:1,transition:"all 0.2s ease",position:"relative"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"16px",color:"#9ca3af",cursor:"grab"},children:"â‹®â‹®"}),t.jsxs("p",{style:{fontSize:"12px",color:"#9ca3af",margin:0},children:["Image ",i+1]})]}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[y("SOCIAL_LINKS",null,null,i)&&t.jsx("button",{onClick:()=>k("SOCIAL_LINKS",null,null,i),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"}),E.type==="social"&&E.index===i?t.jsxs("div",{style:{display:"flex",gap:"4px"},children:[t.jsx("button",{onClick:()=>R(i),style:{background:"#ef4444",border:"none",borderRadius:"4px",color:"#ffffff",fontSize:"11px",padding:"2px 8px",cursor:"pointer",fontWeight:"600"},children:"Confirm"}),t.jsx("button",{onClick:()=>j({type:null,index:null}),style:{background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Cancel"})]}):t.jsx("button",{onClick:()=>j({type:"social",index:i}),style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",color:"#ef4444",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Delete"})]})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Image URL"}),t.jsx("input",{type:"text",value:n.src,onChange:p=>{const x=[...e.SOCIAL_LINKS];x[i]={...n,src:p.target.value},o({...e,SOCIAL_LINKS:x})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Height (px)"}),t.jsx("input",{type:"number",value:n.height,onChange:p=>{const x=[...e.SOCIAL_LINKS];x[i]={...n,height:parseInt(p.target.value)},o({...e,SOCIAL_LINKS:x})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"}})]})]},i):n.type==="spacer"?t.jsxs("div",{draggable:!0,onDragStart:()=>ee(i),onDragOver:p=>q(p,i),onDragEnd:Q,onDrop:p=>te(p,i),style:{marginBottom:"16px",padding:"12px",background:d===i?"rgba(139, 92, 246, 0.2)":"rgba(139, 92, 246, 0.05)",borderRadius:"6px",border:d===i?"2px dashed #a78bfa":b===i&&d!==null?"2px solid #a78bfa":"2px solid transparent",boxShadow:b===i&&d!==null?"0 0 10px rgba(167, 139, 250, 0.5)":"none",cursor:d===i?"grabbing":"grab",opacity:d===i?.5:1,transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"16px",color:"#9ca3af"},children:"â‹®â‹®"}),t.jsx("p",{style:{fontSize:"12px",color:"#9ca3af",margin:0},children:"Spacer"})]}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[y("SOCIAL_LINKS",null,null,i)&&t.jsx("button",{onClick:()=>k("SOCIAL_LINKS",null,null,i),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"}),E.type==="social"&&E.index===i?t.jsxs("div",{style:{display:"flex",gap:"4px"},children:[t.jsx("button",{onClick:()=>R(i),style:{background:"#ef4444",border:"none",borderRadius:"4px",color:"#ffffff",fontSize:"11px",padding:"2px 8px",cursor:"pointer",fontWeight:"600"},children:"Confirm"}),t.jsx("button",{onClick:()=>j({type:null,index:null}),style:{background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Cancel"})]}):t.jsx("button",{onClick:()=>j({type:"social",index:i}),style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",color:"#ef4444",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Delete"})]})]},i):t.jsxs("div",{draggable:!0,onDragStart:()=>ee(i),onDragOver:p=>q(p,i),onDragEnd:Q,onDrop:p=>te(p,i),style:{marginBottom:"16px",padding:"12px",background:d===i?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.2)",borderRadius:"6px",border:d===i?"2px dashed #a78bfa":b===i&&d!==null?"2px solid #a78bfa":"1px solid rgba(139, 92, 246, 0.2)",boxShadow:b===i&&d!==null?"0 0 10px rgba(167, 139, 250, 0.5)":"none",cursor:d===i?"grabbing":"grab",opacity:d===i?.5:1,transition:"all 0.2s ease"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"16px",color:"#9ca3af"},children:"â‹®â‹®"}),t.jsxs("span",{style:{fontSize:"12px",color:"#9ca3af"},children:["Link ",i+1]})]}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[y("SOCIAL_LINKS",null,null,i)&&t.jsx("button",{onClick:()=>k("SOCIAL_LINKS",null,null,i),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"}),E.type==="social"&&E.index===i?t.jsxs("div",{style:{display:"flex",gap:"4px"},children:[t.jsx("button",{onClick:()=>R(i),style:{background:"#ef4444",border:"none",borderRadius:"4px",color:"#ffffff",fontSize:"11px",padding:"2px 8px",cursor:"pointer",fontWeight:"600"},children:"Confirm"}),t.jsx("button",{onClick:()=>j({type:null,index:null}),style:{background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Cancel"})]}):t.jsx("button",{onClick:()=>j({type:"social",index:i}),style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",color:"#ef4444",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Delete"})]})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Link Name"}),t.jsx("input",{type:"text",value:n.name,onChange:p=>{const x=[...e.SOCIAL_LINKS];x[i]={...n,name:p.target.value},o({...e,SOCIAL_LINKS:x})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"}})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"URL"}),t.jsx("input",{type:"text",value:n.url,onChange:p=>{const x=[...e.SOCIAL_LINKS];x[i]={...n,url:p.target.value},o({...e,SOCIAL_LINKS:x})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Icon"}),t.jsxs("select",{value:n.icon,onChange:p=>{const x=[...e.SOCIAL_LINKS];x[i]={...n,icon:p.target.value},o({...e,SOCIAL_LINKS:x})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px",cursor:"pointer"},children:[t.jsx("option",{value:"youtube",children:"YouTube"}),t.jsx("option",{value:"twitter",children:"Twitter"}),t.jsx("option",{value:"instagram",children:"Instagram"}),t.jsx("option",{value:"tiktok",children:"TikTok"}),t.jsx("option",{value:"twitch",children:"Twitch"}),t.jsx("option",{value:"discord",children:"Discord"}),t.jsx("option",{value:"patreon",children:"Patreon"}),t.jsx("option",{value:"crown",children:"Throne (Crown)"}),t.jsx("option",{value:"shopping",children:"Shopping"}),t.jsx("option",{value:"gamersupps",children:"GamerSupps"}),t.jsx("option",{value:"heart",children:"Heart (Donate)"}),t.jsx("option",{value:"link",children:"Link (Generic)"})]})]})]},i))]}),a==="banner"&&t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",marginBottom:"16px",color:"#e4e4e7"},children:"Banner Panel"}),t.jsx("div",{style:{marginBottom:"16px"},children:t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:e.BANNER?.enabled||!1,onChange:n=>{o({...e,BANNER:{...e.BANNER,enabled:n.target.checked}})},style:{cursor:"pointer"}}),t.jsx("span",{style:{fontSize:"13px",color:"#e4e4e7"},children:"Show Banner Panel"})]})}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{display:"block",fontSize:"13px",color:"#e4e4e7",marginBottom:"6px"},children:"Title"}),t.jsx("input",{type:"text",value:e.BANNER?.title||"",onChange:n=>{o({...e,BANNER:{...e.BANNER,title:n.target.value}})},placeholder:"Banner title",style:{width:"100%",padding:"8px",background:"#1a1a1a",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#e4e4e7",fontSize:"13px"}})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{display:"block",fontSize:"13px",color:"#e4e4e7",marginBottom:"6px"},children:"Panel Width (%)"}),t.jsx("input",{type:"number",value:e.BANNER?.width||100,onChange:n=>{o({...e,BANNER:{...e.BANNER,width:Math.min(100,Math.max(20,parseInt(n.target.value)||100))}})},min:"20",max:"100",placeholder:"100",style:{width:"100px",padding:"8px",background:"#1a1a1a",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#e4e4e7",fontSize:"13px"}})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{display:"block",fontSize:"13px",color:"#e4e4e7",marginBottom:"6px"},children:"Description (HTML allowed, no JavaScript)"}),t.jsx("textarea",{value:e.BANNER?.description||"",onChange:n=>{o({...e,BANNER:{...e.BANNER,description:n.target.value}})},placeholder:"Description text or HTML",rows:4,style:{width:"100%",padding:"8px",background:"#1a1a1a",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#e4e4e7",fontSize:"13px",fontFamily:"monospace",resize:"vertical"}})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",marginBottom:"8px"},children:[t.jsx("input",{type:"checkbox",checked:e.BANNER?.expiresEnabled||!1,onChange:n=>{o({...e,BANNER:{...e.BANNER,expiresEnabled:n.target.checked}})},style:{cursor:"pointer"}}),t.jsx("span",{style:{fontSize:"13px",color:"#e4e4e7"},children:"Set Expiration Date"})]}),e.BANNER?.expiresEnabled&&t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",color:"#9ca3af",marginBottom:"4px"},children:"Expires On (local time)"}),t.jsx("input",{type:"datetime-local",value:e.BANNER?.expiresDate||"",onChange:n=>{o({...e,BANNER:{...e.BANNER,expiresDate:n.target.value}})},style:{width:"100%",padding:"8px",background:"#1a1a1a",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#e4e4e7",fontSize:"13px"}})]})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{display:"block",fontSize:"13px",color:"#e4e4e7",marginBottom:"6px"},children:"Images (up to 2)"}),e.BANNER?.images?.map((n,i)=>t.jsx("div",{style:{marginBottom:"12px",padding:"12px",background:"rgba(139, 92, 246, 0.1)",borderRadius:"6px"},children:t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsxs("label",{style:{display:"block",fontSize:"12px",color:"#9ca3af",marginBottom:"4px"},children:["Image ",i+1," URL"]}),t.jsx("input",{type:"text",value:n.url||"",onChange:p=>{const x=[...e.BANNER?.images||[]];x[i]={...x[i],url:p.target.value},o({...e,BANNER:{...e.BANNER,images:x}})},placeholder:"https://example.com/image.jpg",style:{width:"100%",padding:"6px",background:"#1a1a1a",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"}})]})},i))]})]}),a==="feeds"&&t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",marginBottom:"16px",color:"#e4e4e7"},children:"Content Feeds"}),t.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"rgba(139, 92, 246, 0.1)",borderRadius:"6px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"13px",color:"#e4e4e7"},children:"Combine Instagram & TikTok"}),y("FEEDS","combineInstagramTikTok")&&t.jsx("button",{onClick:()=>k("FEEDS","combineInstagramTikTok"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:e.FEEDS.combineInstagramTikTok,onChange:n=>{o({...e,FEEDS:{...e.FEEDS,combineInstagramTikTok:n.target.checked}})},style:{cursor:"pointer"}}),t.jsx("span",{style:{fontSize:"12px",color:"#9ca3af"},children:"Merge into one row and remove TikTok duplicates"})]})]}),t.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"rgba(139, 92, 246, 0.1)",borderRadius:"6px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"13px",color:"#e4e4e7"},children:"YouTube Playlist Generator"}),y("FEEDS","generateYouTubePlaylist")&&t.jsx("button",{onClick:()=>k("FEEDS","generateYouTubePlaylist"),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:e.FEEDS.generateYouTubePlaylist||!1,onChange:n=>{o({...e,FEEDS:{...e.FEEDS,generateYouTubePlaylist:n.target.checked}})},style:{cursor:"pointer"}}),t.jsx("span",{style:{fontSize:"12px",color:"#9ca3af"},children:'Show "Open Playlist" button (videos in reverse order)'})]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[t.jsx("h4",{style:{fontSize:"14px",margin:0,color:"#e4e4e7"},children:"Platform Feeds"}),t.jsx("button",{onClick:N,style:{padding:"6px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",cursor:"pointer",fontWeight:"500"},children:"+ Add Platform"})]}),e.FEEDS.platforms.map((n,i)=>t.jsxs("div",{draggable:!0,onDragStart:()=>A(i),onDragOver:p=>q(p,i),onDragEnd:Q,onDrop:p=>H(p,i),style:{marginBottom:"16px",padding:"12px",background:d===i?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.2)",borderRadius:"6px",border:d===i?"2px dashed #a78bfa":b===i&&d!==null?"2px solid #a78bfa":"1px solid rgba(139, 92, 246, 0.2)",boxShadow:b===i&&d!==null?"0 0 10px rgba(167, 139, 250, 0.5)":"none",cursor:d===i?"grabbing":"grab",opacity:d===i?.5:1,transition:"all 0.2s ease"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"16px",color:"#9ca3af"},children:"â‹®â‹®"}),t.jsx("span",{style:{fontSize:"13px",color:"#e4e4e7",fontWeight:"500"},children:n.name})]}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[y("FEEDS",null,null,i)&&t.jsx("button",{onClick:()=>k("FEEDS",null,null,i),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"}),E.type==="feed"&&E.index===i?t.jsxs("div",{style:{display:"flex",gap:"4px"},children:[t.jsx("button",{onClick:()=>z(i),style:{background:"#ef4444",border:"none",borderRadius:"4px",color:"#ffffff",fontSize:"11px",padding:"2px 8px",cursor:"pointer",fontWeight:"600"},children:"Confirm"}),t.jsx("button",{onClick:()=>j({type:null,index:null}),style:{background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Cancel"})]}):t.jsx("button",{onClick:()=>j({type:"feed",index:i}),style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",color:"#ef4444",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Delete"})]})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Platform Type"}),t.jsxs("select",{value:n.id,onChange:p=>{const x=[...e.FEEDS.platforms];x[i]={...n,id:p.target.value},o({...e,FEEDS:{...e.FEEDS,platforms:x}})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px",cursor:"pointer"},children:[t.jsx("option",{value:"youtube",children:"YouTube"}),t.jsx("option",{value:"instagram",children:"Instagram"}),t.jsx("option",{value:"tiktok",children:"TikTok"}),t.jsx("option",{value:"twitch",children:"Twitch"})]})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Display Name"}),t.jsx("input",{type:"text",value:n.name,onChange:p=>{const x=[...e.FEEDS.platforms];x[i]={...n,name:p.target.value},o({...e,FEEDS:{...e.FEEDS,platforms:x}})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"}})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("label",{style:{fontSize:"11px",color:"#9ca3af",display:"block",marginBottom:"4px"},children:"Feed URL (JSON)"}),t.jsx("input",{type:"text",value:n.feedUrl,onChange:p=>{const x=[...e.FEEDS.platforms];x[i]={...n,feedUrl:p.target.value},o({...e,FEEDS:{...e.FEEDS,platforms:x}})},style:{width:"100%",padding:"6px 10px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"4px",color:"#e4e4e7",fontSize:"12px"},placeholder:"https://..."})]})]},i))]}),a==="seo"&&t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",marginBottom:"16px",color:"#e4e4e7"},children:"SEO & Meta Tags"}),Object.entries(e.PROFILE.seo).map(([n,i])=>t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#9ca3af",textTransform:"capitalize"},children:n.replace(/([A-Z])/g," $1").trim()}),y("PROFILE","seo",n)&&t.jsx("button",{onClick:()=>k("PROFILE","seo",n),style:{background:"none",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"4px",color:"#a78bfa",fontSize:"11px",padding:"2px 8px",cursor:"pointer"},children:"Restore"})]}),n==="description"||n==="descriptionShort"||n==="keywords"?t.jsx("textarea",{value:i,onChange:p=>{o({...e,PROFILE:{...e.PROFILE,seo:{...e.PROFILE.seo,[n]:p.target.value}}})},rows:n==="keywords"?3:4,style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"13px",resize:"vertical",fontFamily:"inherit"}}):t.jsx("input",{type:"text",value:i,onChange:p=>{o({...e,PROFILE:{...e.PROFILE,seo:{...e.PROFILE.seo,[n]:p.target.value}}})},style:{width:"100%",padding:"8px 12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"6px",color:"#e4e4e7",fontSize:"13px"}})]},n))]})]})]}),t.jsx("div",{style:{position:"relative",bottom:0,left:0,right:0,background:"rgba(24, 24, 27, 0.98)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(139, 92, 246, 0.3)",padding:"16px 20px",zIndex:1e3},children:t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsxs("button",{onClick:Y,style:{flex:1,padding:"10px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"6px",color:"#a78bfa",fontSize:"12px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},title:"Download current config as JSON",children:[t.jsx("span",{children:"â†“"})," Export JSON"]}),t.jsxs("button",{onClick:X,style:{flex:1,padding:"10px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"6px",color:"#a78bfa",fontSize:"12px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},title:"Download index.html with updated SEO tags",children:[t.jsx("span",{children:"â†“"})," Export HTML"]}),t.jsxs("label",{style:{flex:1,padding:"10px 12px",background:"rgba(139, 92, 246, 0.2)",border:"1px solid rgba(139, 92, 246, 0.4)",borderRadius:"6px",color:"#a78bfa",fontSize:"12px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},title:"Upload config.json to import",children:[t.jsx("span",{children:"â†‘"})," Import",t.jsx("input",{type:"file",accept:".json",onChange:se,style:{display:"none"}})]})]})}),t.jsx(De,{isOpen:D,onClose:()=>B(!1),onApplyTheme:n=>{o({...e,COLOR_THEME:n})}})]}):null}export{ze as default};
