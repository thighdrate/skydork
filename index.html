<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Primary Meta Tags -->
  <title>Skydarc TV</title>
  <meta name="title" content="Skydarc TV">
  <meta name="description" content="View the latest content from Skydarc across YouTube, Instagram, TikTok, and Twitch in one place. Updates hourly with new posts and videos.">
  <meta name="author" content="Skydarc">
  <meta name="keywords" content="Skydarc, YouTube, Instagram, TikTok, Twitch, social media, content feed, vtuber">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://skydork.tv/">
  <meta property="og:title" content="Skydarc TV">
  <meta property="og:description" content="View the latest content from Skydarc across YouTube, Instagram, TikTok, and Twitch in one place.">
  <meta property="og:site_name" content="Skydarc TV">
  <meta property="og:image" content="https://skydork.tv/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="Skydarc TV - View the latest content from Skydarc across YouTube, Instagram, TikTok, and Twitch in one place.">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://skydork.tv/">
  <meta property="twitter:title" content="Skydarc TV">
  <meta property="twitter:description" content="View the latest content from Skydarc across YouTube, Instagram, TikTok, and Twitch in one place.">
  <meta property="twitter:image" content="https://skydork.tv/og-image.png">
  <meta property="twitter:image:alt" content="Skydarc TV - View the latest content from Skydarc across YouTube, Instagram, TikTok, and Twitch in one place.">
  
  <!-- Theme Color -->
  <meta name="theme-color" content="#000000">
  
  <!-- Favicons -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="manifest" href="site.webmanifest">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://skydork.tv/">
  
  <!-- Robots -->
  <meta name="robots" content="index, follow">
  
  <!-- Preload fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700&family=Zilla+Slab:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      /* Colors - Edit these to change the theme */
      --color-background: rgba(0, 0, 0, 0);
      --color-header-bg: rgba(100, 80, 125, 0.4);
      --color-card-bg: rgba(60, 48, 75, 1);
      --color-section-bg: rgba(80, 64, 100, 0.7);
      --color-text: #ede9fe;
      --color-text-secondary: #ddd6fe;
      --color-text-muted: #c4b5fd;
      --color-title-text: #c4b5fd;
      --color-platform-titles: #ede9fe;
      --color-bio-line1: #ddd6fe;
      --color-bio-line2: #ddd6fe;
      --color-accent: #ad8ccf;
      --color-loading-spinner: #c4b5fd;
      --color-error: #f87171;
      --color-text-shadow: #000000;
      --color-glass-button-bg: #ad8ccf;
      --color-glass-button-bg-hover: #7d5c9f;
      --color-glass-button-text: #fafafa;
      --color-glass-border: #c4b5fd;
      --color-glass-border-hover: #7d5c9f;
      --color-glass-shadow: #000000;
      --color-glass-shadow-hover: rgba(196, 181, 253, 0.3);
      --color-glass-glow: rgba(196, 181, 253, 0.2);
      --color-new-content-indicator: #c4b5fd;
      --color-glass-effect-border: rgba(173, 140, 207, 0.2);
      --color-nav-button-bg: #3c304b;
      --color-nav-button-bg-hover: #4d3e5f;
      --color-nav-button-border: rgba(173, 140, 207, 0.15);
      
      /* Fonts */
      --font-global: 'Public Sans', sans-serif;
      --font-title: 'Zilla Slab', serif;
      --font-bio: 'Zilla Slab', serif;
      --font-sidebar: 'Public Sans', sans-serif;
      --letter-spacing-global: 0.03em;
      --letter-spacing-title: 0.03em;
      --letter-spacing-bio: 0.03em;
      --letter-spacing-sidebar: 0.12em;
      
      /* Layout */
      --max-width: 1196px;
      --backdrop-blur: blur(20px);
      
      /* Background images */
      --background-desktop: url('images/background.jpg');
      --background-mobile-portrait: url('images/background_rotated.jpg');
      --background-mobile-landscape: url('images/background.jpg');
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html, body {
      width: 100%;
      height: 100%;
      overflow-x: hidden;
    }
    
    body {
      font-family: var(--font-global);
      color: var(--color-text);
      background-color: #000;
      letter-spacing: var(--letter-spacing-global);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      animation: fadeInFromBlack 1.0s ease-out;
    }
    
    @keyframes fadeInFromBlack {
      from {
        opacity: 0;
        background-color: #000;
      }
      to {
        opacity: 1;
      }
    }
    
    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .h-240 { height: 240px; }
    
    .background-wrapper {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: -1;
      transform: translateZ(0);
      will-change: transform;
    }
    
    .background-image {
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      background-image: var(--background-desktop);
    }
    
    @media (max-width: 768px) {
      .background-image {
        background-image: var(--background-mobile-portrait);
      }
    }
    
    @media (max-width: 768px) and (orientation: landscape) {
      .background-image {
        background-image: var(--background-mobile-landscape);
      }
    }
    
    .main-container {
      position: relative;
      width: 100%;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0 16px;
    }
    
    body:not(.show-content) #landingPage {
      display: flex;
    }
    
    body:not(.show-content) #contentSection {
      display: none;
    }
    
    body.show-content #landingPage {
      display: none;
    }
    
    body.show-content #contentSection {
      display: block;
    }
    
    .content-wrapper {
      width: 100%;
      max-width: var(--max-width);
      margin: 0 auto;
    }
    
    .landing-page {
      width: 100%;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 32px 0;
    }
    
    .landing-panel {
      width: 100%;
      max-width: 400px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    
    .corner-image {
      position: fixed;
      bottom: 0;
      right: 0;
      z-index: 50;
      pointer-events: none;
      opacity: 0.9;
      max-height: 240px;
      height: auto;
      width: auto;
    }
    
    /* Landing page - size based on 400px panel */
    body:not(.show-content) .corner-image {
      max-width: calc((100vw - 400px) / 2 - 32px);
    }
    
    /* Content page - size based on 1196px max-width */
    body.show-content .corner-image {
      max-width: calc((100vw - var(--max-width)) / 2 - 32px);
    }
    
    @media (max-width: 1279px) {
      .corner-image {
        display: none !important;
      }
    }
    
    .bio-section {
      text-align: center;
      margin-bottom: 32px;
      width: 100%;
      max-width: 100%;
      padding: 0 32px;
    }
    
    body.show-content .bio-section {
      margin-top: 32px;
    }
    
    @media (max-width: 768px) {
      .bio-section {
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 16px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 16px;
        margin-bottom: 192px;
      }
      
      body.show-content .bio-section {
        display: none;
      }
    }
    
    .bio-about {
      font-family: var(--font-bio);
      font-size: 48px;
      font-weight: 500;
      margin-bottom: 16px;
      letter-spacing: var(--letter-spacing-bio);
      color: var(--color-title-text);
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8), 0 4px 12px rgba(0, 0, 0, 0.5);
    }
    
    @media (max-width: 768px) {
      .bio-about {
        font-size: 18px;
      }
    }
    
    .bio-line1 {
      font-family: var(--font-bio);
      font-size: 30px;
      font-weight: 400;
      margin-bottom: 0px;
      letter-spacing: var(--letter-spacing-bio);
      color: var(--color-bio-line1);
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8), 0 4px 12px rgba(0, 0, 0, 0.5);
    }
    
    @media (max-width: 768px) {
      .bio-line1 {
        font-size: 16px;
      }
    }
    
    .bio-line2 {
      font-family: var(--font-bio);
      font-size: 24px;
      font-weight: 400;
      margin-bottom: 64px;
      letter-spacing: var(--letter-spacing-bio);
      color: var(--color-bio-line2);
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8), 0 4px 12px rgba(0, 0, 0, 0.5);
    }
    
    @media (max-width: 768px) {
      .bio-line2 {
        display: none;
      }
    }
    
    .social-links {
      display: flex;
      flex-direction: column;
      gap: 16px;
      width: 100%;
    }
    
    .social-button {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 16px;
      height: 68px;
      background: var(--color-glass-button-bg);
      border: 1px solid var(--color-glass-border);
      border-radius: 8px;
      color: var(--color-glass-button-text);
      text-decoration: none;
      transition: all 0.2s ease;
      cursor: pointer;
      box-shadow: 0 2px 8px var(--color-glass-shadow);
      width: 100%;
    }
    
    .social-button-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      flex-shrink: 0;
      transition: filter 0.2s ease;
    }
    
    .social-button:hover .social-button-icon svg,
    .social-button:hover .social-button-icon img {
      filter: drop-shadow(0 0 8px currentColor) drop-shadow(0 0 12px currentColor);
    }
    
    .social-button:hover .icon-youtube {
      filter: drop-shadow(0 0 8px #FF0000) drop-shadow(0 0 12px #FF0000);
    }
    
    .social-button:hover .icon-twitch {
      filter: drop-shadow(0 0 8px #9146FF) drop-shadow(0 0 12px #9146FF);
    }
    
    .social-button:hover .icon-discord {
      filter: drop-shadow(0 0 8px #5865F2) drop-shadow(0 0 12px #5865F2);
    }
    
    .social-button:hover .icon-patreon {
      filter: drop-shadow(0 0 8px #FF424D) drop-shadow(0 0 12px #FF424D);
    }
    
    .social-button:hover .icon-heart {
      filter: drop-shadow(0 0 8px #FF5E5B) drop-shadow(0 0 12px #FF5E5B);
    }
    
    .social-button-text {
      display: flex;
      align-items: center;
      text-align: left;
      font-size: 16px;
      font-weight: 700;
      line-height: 1.2;
      letter-spacing: var(--letter-spacing-sidebar);
      color: var(--color-glass-button-text);
      font-family: var(--font-sidebar);
    }
    
    .social-button:hover {
      background: var(--color-glass-button-bg-hover);
      border-color: var(--color-glass-border-hover);
      transform: translateY(-2px);
      box-shadow: 0 4px 16px var(--color-glass-shadow-hover), 0 0 20px var(--color-glass-glow);
    }
    
    .social-button-icon svg,
    .social-button-icon img {
      width: 36px;
      height: 36px;
    }
    
    .icon-youtube { fill: #FF0000; }
    .icon-twitter { fill: #FFFFFF; }
    .icon-twitch { fill: #9146FF; }
    .icon-discord { fill: #5865F2; }
    .icon-patreon { fill: #FF424D; }
    .icon-tiktok { fill: currentColor; }
    .icon-shopping { fill: #4CAF50; }
    .icon-heart { fill: #FF5E5B; }
    .icon-throne { fill: #FFD700; }
    
    .platform-icon svg { fill: currentColor; }
    .platform-icon .icon-youtube { fill: #FF0000; }
    .platform-icon .icon-twitch { fill: #9146FF; }
    .platform-icon .icon-instagram { fill: url(#instagram-gradient-feed); }
    
    .social-image {
      width: 100%;
      height: auto;
      max-height: 240px;
      object-fit: contain;
      border-radius: 8px;
      margin: 8px 0;
    }
    
    .videos-section-container {
      position: fixed;
      top: 0;
      right: 0;
      width: 240px;
      z-index: 100;
    }
    
    .videos-button-container {
      width: 100%;
    }
    
    .videos-button-container .social-button {
      width: 100%;
    }
    
    .youtube-preview-container {
      width: 100%;
      margin-top: 16px;
    }
    
    .youtube-preview-container:empty {
      display: none;
    }
    
    .youtube-preview-card {
      cursor: pointer;
      width: 100%;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .youtube-preview-card.loaded {
      opacity: 1;
    }
    
    .youtube-preview-card .feed-card {
      width: 100% !important;
      max-width: 100%;
    }
    
    .youtube-preview-card .feed-card:hover {
      transform: none;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    }
    
    @media (max-width: 1279px) {
      .videos-section-container {
        position: static;
        width: 100%;
        max-width: 400px;
        margin-top: 24px;
      }
      
      .youtube-preview-container {
        display: none;
      }
    }
    
    .back-button-container {
      position: fixed;
      top: 0;
      right: 0;
      width: 240px;
      z-index: 100;
    }
    
    @media (max-width: 1279px) {
      .back-button-container {
        position: static;
        margin-bottom: 24px;
        width: 100%;
        max-width: 400px;
      }
    }
    
    .feeds-section {
      width: 100%;
      padding: 32px 0 64px 0;
    }
    
    .platform-row {
      margin-bottom: 48px;
    }
    
    @media (min-width: 769px) {
      .platform-row {
        background: rgba(80, 64, 100, 0.9);
        border-radius: 12px;
        border: 1px solid rgba(173, 140, 207, 0.15);
        padding: 16px 16px 8px 16px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }
    }
    
    .platform-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
      padding: 0 8px;
    }
    
    .platform-title-group {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .platform-icon {
      width: 24px;
      height: 24px;
    }
    
    .platform-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--color-platform-titles);
      letter-spacing: var(--letter-spacing-global);
      text-shadow: 2px 2px 4px var(--color-text-shadow);
    }
    
    .platform-controls {
      display: flex;
      align-items: center;
      gap: 12px;
      opacity: 1;
      transition: opacity 0.2s ease;
    }
    
    @media (max-width: 768px) {
      .platform-controls {
        opacity: 1;
      }
      
      .platform-header {
        display: none;
      }
    }
    
    .platform-button {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      height: 36px;
      background: var(--color-glass-button-bg);
      border: 1px solid var(--color-glass-border);
      border-radius: 8px;
      color: var(--color-glass-button-text);
      font-size: 12px;
      font-weight: 700;
      letter-spacing: var(--letter-spacing-sidebar);
      font-family: var(--font-sidebar);
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 2px 8px var(--color-glass-shadow);
    }
    
    .platform-button:hover {
      background: var(--color-glass-button-bg-hover);
      border-color: var(--color-glass-border-hover);
      transform: translateY(-2px);
      box-shadow: 0 4px 16px var(--color-glass-shadow-hover), 0 0 20px var(--color-glass-glow);
    }
    
    .feed-container-wrapper {
      position: relative;
    }
    
    .scroll-indicator {
      position: absolute;
      top: 35%;
      transform: translateY(-50%);
      z-index: 10;
      background: rgba(0, 0, 0, 0.7);
      color: var(--color-text);
      font-size: 20px;
      font-weight: bold;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .scroll-indicator.visible {
      opacity: 1;
    }
    
    .scroll-indicator-left {
      left: 0;
    }
    
    .scroll-indicator-right {
      right: 0;
    }
    
    .feed-container {
      display: flex;
      gap: 16px;
      overflow-x: auto;
      overflow-y: hidden;
      scroll-snap-type: x mandatory;
      scroll-padding-left: 0;
      -webkit-overflow-scrolling: touch;
      padding: 8px;
      padding-bottom: 8px;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    
    @media (min-width: 769px) {
      .feed-container:not(.grid-mode) {
        padding-left: 0;
        padding-right: 0;
      }
    }
    
    .feed-container::-webkit-scrollbar {
      display: none;
    }
    
    .feed-container.grid-mode {
      display: grid;
      overflow: visible;
    }
    
    @media (min-width: 769px) {
      .feed-container.grid-mode {
        padding-left: 0;
        padding-right: 0;
      }
    }
    
    .platform-row[data-platform="youtube"] .feed-container.grid-mode,
    .platform-row[data-platform="twitch"] .feed-container.grid-mode {
      grid-template-columns: repeat(3, 1fr);
    }
    
    .platform-row[data-platform="instagram"] .feed-container.grid-mode,
    .platform-row[data-platform="tiktok"] .feed-container.grid-mode {
      grid-template-columns: repeat(5, 1fr);
    }
    
    .feed-card {
      position: relative;
      background: var(--color-card-bg);
      border-radius: 8px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      flex-direction: column;
      flex-shrink: 0;
      scroll-snap-align: start;
      contain: layout style paint;
    }
    
    .feed-card.youtube,
    .feed-card.twitch {
      width: calc((100% - 32px) / 3);
      max-height: min(600px, 85vh);
    }
    
    .feed-card.instagram,
    .feed-card.tiktok {
      width: calc((100% - 64px) / 5);
      max-height: 90vh;
    }
    
    .feed-container.grid-mode .feed-card {
      width: 100%;
    }
    
    .feed-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    }
    
    .card-image-container {
      position: relative;
      width: 100%;
      padding-top: 56.25%;
      background: rgba(0, 0, 0, 0.3);
      overflow: hidden;
    }
    
    .youtube-preview-card .card-image-container {
      min-height: 135px;
    }
    
    .feed-card.instagram .card-image-container,
    .feed-card.tiktok .card-image-container {
      padding-top: 177.78%;
    }
    
    .card-image {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: opacity 0.3s ease;
    }
    
    .card-image.loading {
      opacity: 0;
    }
    
    .image-placeholder {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: var(--color-text-muted);
    }
    
    .card-content {
      padding: 16px 16px 8px 16px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    
    .card-header {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 8px;
    }
    
    .card-title {
      flex: 1;
      font-size: 14px;
      font-weight: 500;
      line-height: 1.4;
      color: var(--color-text);
    }
    
    .card-platform {
      font-size: 12px;
      color: var(--color-text-muted);
      margin-bottom: 4px;
    }
    
    .new-badge {
      background: var(--color-new-content-indicator);
      color: #000;
      font-size: 10px;
      font-weight: 700;
      padding: 2px 6px;
      border-radius: 4px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      flex-shrink: 0;
    }
    
    .card-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 12px;
      color: var(--color-text-muted);
      margin-top: auto;
    }
    
    .card-date {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    .loading-container {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 48px;
    }
    
    .spinner {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(255, 255, 255, 0.1);
      border-top-color: var(--color-loading-spinner);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .error-message {
      color: var(--color-error);
      text-align: center;
      padding: 24px;
    }
    
    @media (max-width: 768px) {
      .main-container {
        padding: 0 16px;
      }
      
      .landing-page {
        padding: 16px 0;
      }
      
      .feed-container {
        padding: 0;
      }
      
      .feed-card.youtube,
      .feed-card.twitch {
        width: calc(100vw - 32px);
      }
      
      .feed-card.instagram,
      .feed-card.tiktok {
        width: calc((100vw - 48px) / 2);
      }
    }
    
    @media (max-width: 768px) and (orientation: landscape) {
      .feed-card.instagram,
      .feed-card.tiktok {
        width: calc((100vw - 80px) / 4);
      }
      
      .feed-card.youtube,
      .feed-card.twitch {
        width: calc((100vw - 48px) / 2);
      }
    }
  </style>
</head>
<body>
  <!-- Background -->
  <div class="background-wrapper">
    <div class="background-image"></div>
  </div>
  
  <img id="cornerImage" class="corner-image h-240" src="images/blehblehbleh.png" alt="" width="255" height="240">
  
  <div class="main-container">
    <!-- Landing Page -->
    <div id="landingPage" class="landing-page">
      <div class="bio-section">
        <p class="bio-about">I'm Skydarc, a vampire VTuber!</p>
        <p class="bio-line1">Here you can find all my socials â™¡</p>
        <p class="bio-line2">Live TUE / FRI / SUN @ 6 PM CET</p>
      </div>
      <div class="landing-panel">
        <div class="social-links">
          <a href="https://twitch.tv/skydarc" target="_blank" rel="noopener noreferrer" class="social-button">
            <div class="social-button-icon" data-icon="twitch"></div>
            <span class="social-button-text">TWITCH</span>
          </a>
          <a href="https://youtube.com/@skydarcc" target="_blank" rel="noopener noreferrer" class="social-button">
            <div class="social-button-icon" data-icon="youtube"></div>
            <span class="social-button-text">YOUTUBE</span>
          </a>
          <a href="https://instagram.com/skydarcc" target="_blank" rel="noopener noreferrer" class="social-button">
            <div class="social-button-icon" data-icon="instagram"></div>
            <span class="social-button-text">INSTAGRAM</span>
          </a>
          <a href="https://tiktok.com/@skydarcc" target="_blank" rel="noopener noreferrer" class="social-button">
            <div class="social-button-icon" data-icon="tiktok"></div>
            <span class="social-button-text">TIKTOK</span>
          </a>
          <a href="https://x.com/skydarc" target="_blank" rel="noopener noreferrer" class="social-button">
            <div class="social-button-icon" data-icon="twitter"></div>
            <span class="social-button-text">TWITTER</span>
          </a>
          <a href="https://discord.gg/skydarc" target="_blank" rel="noopener noreferrer" class="social-button">
            <div class="social-button-icon" data-icon="discord"></div>
            <span class="social-button-text">DISCORD</span>
          </a>
          <img src="images/image01.png" alt="" class="social-image h-240" width="257" height="240">
          <a href="https://throne.me/u/skydarc" target="_blank" rel="noopener noreferrer" class="social-button">
            <div class="social-button-icon" data-icon="throne"></div>
            <span class="social-button-text">THRONE</span>
          </a>
          <a href="https://www.patreon.com/skydarc" target="_blank" rel="noopener noreferrer" class="social-button">
            <div class="social-button-icon" data-icon="patreon"></div>
            <span class="social-button-text">PATREON (18+)</span>
          </a>
          <a href="https://kitsunecorners.com/collections/skydarc" target="_blank" rel="noopener noreferrer" class="social-button">
            <div class="social-button-icon" data-icon="shopping"></div>
            <span class="social-button-text">MERCH KITSUNECORNERS</span>
          </a>
          <a href="https://gamersupps.gg/?ref=vampire" target="_blank" rel="noopener noreferrer" class="social-button">
            <div class="social-button-icon" data-icon="gamersupps"></div>
            <span class="social-button-text">10% OFF GAMERSUPPS</span>
          </a>
          <a href="https://ko-fi.com/skydarc" target="_blank" rel="noopener noreferrer" class="social-button">
            <div class="social-button-icon" data-icon="heart"></div>
            <span class="social-button-text">DONATE KO-FI</span>
          </a>
          <img src="images/image02.png" alt="" class="social-image h-240" width="270" height="240">
        </div>
      </div>
      
      <!-- Videos Button & Preview (Desktop: Fixed, Mobile: In-flow) -->
      <div class="videos-section-container">
        <div class="videos-button-container">
          <button class="social-button" onclick="showContent()">
            <div class="social-button-icon" data-icon="videos"></div>
            <span class="social-button-text">LATEST VIDEOS</span>
          </button>
        </div>
        
        <!-- YouTube Preview Card (Desktop Only) -->
        <div id="youtubePreview" class="youtube-preview-container">
        </div>
      </div>
    </div>
    
    <!-- Content Section -->
    <div id="contentSection" class="content-wrapper">
      <!-- Back Button -->
      <div class="back-button-container">
        <button class="social-button" onclick="showLanding()">
          <div class="social-button-icon" data-icon="back"></div>
          <span class="social-button-text">SOCIALS</span>
        </button>
      </div>
      
      <!-- Bio Section -->
      <div class="bio-section">
        <p class="bio-about">I'm Skydarc, a vampire VTuber!</p>
        <p class="bio-line1">Here you can find all my socials â™¡</p>
        <p class="bio-line2">Live TUE / FRI / SUN @ 6 PM CET</p>
      </div>
      
      <div class="feeds-section">
        <!-- YouTube Platform -->
        <div class="platform-row" data-platform="youtube">
          <div class="platform-header">
            <div class="platform-title-group">
              <div class="platform-icon" data-icon="youtube"></div>
              <h2 class="platform-title">YouTube</h2>
            </div>
            <div class="platform-controls">
              <button class="platform-button" id="youtubePlaylistBtn" style="display: none;">Playlist</button>
              <button class="platform-button" onclick="toggleExpand('youtube')">
                <span id="expandText_youtube">EXPAND</span>
              </button>
            </div>
          </div>
          <div class="feed-container-wrapper">
            <div class="scroll-indicator scroll-indicator-left" id="scrollLeft_youtube">â€¹</div>
            <div class="scroll-indicator scroll-indicator-right" id="scrollRight_youtube">â€º</div>
            <div class="feed-container" id="feedContainer_youtube" data-platform="youtube">
              <div class="loading-container">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Instagram Platform -->
        <div class="platform-row" data-platform="instagram">
          <div class="platform-header">
            <div class="platform-title-group">
              <div class="platform-icon" data-icon="instagramFeed"></div>
              <h2 class="platform-title">Instagram</h2>
            </div>
            <div class="platform-controls">
              <button class="platform-button" onclick="toggleExpand('instagram')">
                <span id="expandText_instagram">EXPAND</span>
              </button>
            </div>
          </div>
          <div class="feed-container-wrapper">
            <div class="scroll-indicator scroll-indicator-left" id="scrollLeft_instagram">â€¹</div>
            <div class="scroll-indicator scroll-indicator-right" id="scrollRight_instagram">â€º</div>
            <div class="feed-container" id="feedContainer_instagram" data-platform="instagram">
              <div class="loading-container">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Twitch Platform -->
        <div class="platform-row" data-platform="twitch">
          <div class="platform-header">
            <div class="platform-title-group">
              <div class="platform-icon" data-icon="twitch"></div>
              <h2 class="platform-title">Twitch</h2>
            </div>
            <div class="platform-controls">
              <button class="platform-button" onclick="toggleExpand('twitch')">
                <span id="expandText_twitch">EXPAND</span>
              </button>
            </div>
          </div>
          <div class="feed-container-wrapper">
            <div class="scroll-indicator scroll-indicator-left" id="scrollLeft_twitch">â€¹</div>
            <div class="scroll-indicator scroll-indicator-right" id="scrollRight_twitch">â€º</div>
            <div class="feed-container" id="feedContainer_twitch" data-platform="twitch">
              <div class="loading-container">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const FEED_URLS = {
      youtube: "https://pub-fabbb3f879b9466a9723217a57f7cba5.r2.dev/skydarc/feeds/youtube2.json",
      instagram: "https://pub-fabbb3f879b9466a9723217a57f7cba5.r2.dev/skydarc/feeds/instagram.json",
      twitch: "https://pub-fabbb3f879b9466a9723217a57f7cba5.r2.dev/skydarc/feeds/twitch.json"
    };
    
    const SVG_ICONS = {
      youtube: '<svg viewBox="0 0 24 24" class="icon-youtube"><path fill="#FF0000" d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814z"/><path fill="#FFFFFF" d="M9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>',
      twitch: '<svg viewBox="0 0 24 24" class="icon-twitch"><path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"/></svg>',
      instagram: '<svg viewBox="0 0 24 24" fill="url(#instagram-gradient)"><defs><linearGradient id="instagram-gradient" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#FFDD55"/><stop offset="50%" style="stop-color:#FF543E"/><stop offset="100%" style="stop-color:#C837AB"/></linearGradient></defs><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zM12 16a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm6.406-11.845a1.44 1.44 0 1 0 0 2.881 1.44 1.44 0 0 0 0-2.881z"/></svg>',
      instagramFeed: '<svg viewBox="0 0 24 24" class="icon-instagram"><defs><linearGradient id="instagram-gradient-feed" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#FFDD55"/><stop offset="50%" style="stop-color:#FF543E"/><stop offset="100%" style="stop-color:#C837AB"/></linearGradient></defs><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zM12 16a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm6.406-11.845a1.44 1.44 0 1 0 0 2.881 1.44 1.44 0 0 0 0-2.881z"/></svg>',
      tiktok: '<svg viewBox="0 0 24 24" class="icon-tiktok"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/></svg>',
      twitter: '<svg viewBox="0 0 24 24" class="icon-twitter" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" fill="#FFFFFF"/></svg>',
      discord: '<svg viewBox="0 0 24 24" class="icon-discord"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/></svg>',
      throne: '<svg viewBox="0 0 40 40" class="icon-throne"><defs><linearGradient id="throne-gradient" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#4C5CFF"/><stop offset="25%" style="stop-color:#861AFF"/><stop offset="50%" style="stop-color:#BC16D0"/><stop offset="75%" style="stop-color:#E4606C"/><stop offset="100%" style="stop-color:#FFC400"/></linearGradient></defs><path d="M27.8,20.5L20,4.1l-7.8,16.4l7.8,8.4L27.8,20.5z M7.5,33.9L1.8,13.5L20,32.3l0,0C15.1,32.3,10.6,32.9,7.5,33.9z M32.5,33.9l5.7-20.4L21.8,30.4l1.8,2C27.1,32.6,30.2,33.2,32.5,33.9z" fill="url(#throne-gradient)"/></svg>',
      patreon: '<svg viewBox="0 0 512 512" class="icon-patreon" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><g transform="matrix(.47407 0 0 .47407 .383 .422)"><clipPath id="patreon-clip"><path d="M0 0h1080v1080H0z"/></clipPath><g clip-path="url(#patreon-clip)"><path d="M1033.05 324.45c-.19-137.9-107.59-250.92-233.6-291.7-156.48-50.64-362.86-43.3-512.28 27.2-181.1 85.46-237.99 272.66-240.11 459.36-1.74 153.5 13.58 557.79 241.62 560.67 169.44 2.15 194.67-216.18 273.07-321.33 55.78-74.81 127.6-95.94 216.01-117.82 151.95-37.61 255.51-157.53 255.29-316.38z" fill-rule="nonzero" fill="currentColor"/></g></g></svg>',
      shopping: '<svg viewBox="0 0 24 24" class="icon-shopping" fill="none" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="shopping-gradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FF6B9D"/><stop offset="100%" style="stop-color:#C44569"/></linearGradient></defs><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" stroke="url(#shopping-gradient)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/><circle cx="9" cy="21" r="1" fill="url(#shopping-gradient)"/><circle cx="20" cy="21" r="1" fill="url(#shopping-gradient)"/></svg>',
      heart: '<svg viewBox="0 0 24 24" class="icon-heart" xmlns="http://www.w3.org/2000/svg"><path d="M23.881 8.948c-.773-4.085-4.859-4.593-4.859-4.593H.723c-.604 0-.679.798-.679.798s-.082 7.324-.022 11.822c.164 2.424 2.586 2.672 2.586 2.672s8.267-.023 11.966-.049c2.438-.426 2.683-2.566 2.658-3.734 4.352.24 7.422-2.831 6.649-6.916zm-11.062 3.511c-1.246 1.453-4.011 3.976-4.011 3.976s-.121.119-.31.023c-.076-.057-.108-.09-.108-.09-.443-.441-3.368-3.049-4.034-3.954-.709-.965-1.041-2.7-.091-3.71.951-1.01 3.005-1.086 4.363.407 0 0 1.565-1.782 3.468-.963 1.904.82 1.832 3.011.723 4.311zm6.173.478c-.928.116-1.682.028-1.682.028V7.284h1.77s1.971.551 1.971 2.638c0 1.913-.985 2.667-2.059 3.015z" fill="currentColor"/><path d="M12.819 12.459c-1.246 1.453-4.011 3.976-4.011 3.976s-.121.119-.31.023c-.076-.057-.108-.09-.108-.09-.443-.441-3.368-3.049-4.034-3.954-.709-.965-1.041-2.7-.091-3.71.951-1.01 3.005-1.086 4.363.407 0 0 1.565-1.782 3.468-.963 1.904.82 1.832 3.011.723 4.311z" fill="#FF5E5B"/></svg>',
      gamersupps: '<svg viewBox="0 0 40 40" class="icon-gamersupps"><path d="M30.9,15H19L23.9,25h5.8l-2.5-5h3.7c2.1,0,3.8,1.6,3.8,3.7s-1.7,3.7-3.8,3.7H0l2.3,4.8h28.5c4.8,0,8.7-3.9,8.7-8.7 S35.7,15,30.9,15z M9.1,25H21L16.1,15h-5.8l2.5,5.1H9.1c-2.1,0-3.8-1.6-3.8-3.8s1.7-3.8,3.8-3.8H40l-2.3-4.8H9.1 c-4.8,0-8.7,3.9-8.7,8.7S4.3,25,9.1,25z" fill="currentColor"/></svg>',
      videos: '<svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7L8 5z" fill="#8B5CF6"/><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14z" fill="#8B5CF6"/></svg>',
      back: '<svg width="36" height="36" viewBox="0 0 24 24" fill="currentColor"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>'
    };
    
    const state = {
      isMobile: false,
      platformFeeds: {},
      expandedPlatforms: {},
      youtubePreviewLoaded: false
    };
    
    function showContent() {
      document.body.classList.add('show-content');
      setTimeout(() => {
        window.scrollTo(0, 0);
        document.documentElement.scrollTop = 0;
        document.body.scrollTop = 0;
      }, 0);
      loadAllFeeds();
    }
    
    function showLanding() {
      document.body.classList.remove('show-content');
      setTimeout(() => {
        window.scrollTo(0, 0);
        document.documentElement.scrollTop = 0;
        document.body.scrollTop = 0;
      }, 0);
      loadYoutubePreview();
    }
    
    async function loadYoutubePreview() {
      if (state.youtubePreviewLoaded) {
        return;
      }
      
      const previewContainer = document.getElementById('youtubePreview');
      if (!previewContainer) return;
      
      try {
        const response = await fetch(FEED_URLS.youtube);
        if (!response.ok) return;
        
        const data = await response.json();
        const items = Array.isArray(data) ? data : (data.items || []);
        
        if (items.length === 0) return;
        
        const latestVideo = items[0];
        
        // Render the feed card without onclick, wrap it in a clickable div
        const cardHtml = renderFeedCard(latestVideo, 'youtube', true)
          .replace(/onclick="[^"]*"/, ''); // Remove the onclick from the card
        
        const wrapperHtml = `
          <div class="youtube-preview-card" onclick="event.stopPropagation(); showContent();">
            ${cardHtml}
          </div>
        `;
        
        // Insert card HTML but keep it hidden
        previewContainer.innerHTML = wrapperHtml;
        
        // Wait for the image to load before showing the card
        const cardElement = previewContainer.querySelector('.youtube-preview-card');
        const imgElement = cardElement.querySelector('.card-image');
        
        if (imgElement) {
          imgElement.onload = () => {
            cardElement.classList.add('loaded');
          };
          // If image is already cached and loaded
          if (imgElement.complete) {
            cardElement.classList.add('loaded');
          }
        } else {
          // No image, show immediately
          cardElement.classList.add('loaded');
        }
        
        state.youtubePreviewLoaded = true;
      } catch (error) {
        console.error('Failed to load YouTube preview:', error);
      }
    }
    
    function detectDevice() {
      const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
      state.isMobile = isTouchDevice || window.innerWidth < 768;
    }
    
    function getRelativeTime(dateString) {
      const date = new Date(dateString);
      const now = new Date();
      const diffInSeconds = Math.floor((now - date) / 1000);

      if (diffInSeconds < 60) return 'just now';
      if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`;
      if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`;
      if (diffInSeconds < 2592000) return `${Math.floor(diffInSeconds / 86400)}d ago`;
      return date.toLocaleDateString();
    }
    
    function isContentNew(dateString) {
      const date = new Date(dateString);
      const now = new Date();
      const hoursDiff = (now - date) / (1000 * 60 * 60);
      return hoursDiff <= 24;
    }
    
    function cleanTitle(title, platform) {
      if (!title) return '';
      if (['instagram', 'tiktok'].includes(platform)) {
        title = title.replace(/#\S+/g, '').trim().replace(/\s+/g, ' ');
      }
      if (platform === 'twitch') {
        title = title.replace(/[#!]\S+/g, '').trim().replace(/\s+/g, ' ');
      }
      
      return title;
    }
    
    function getImageUrl(item, platform) {
      const originalUrl = item.image || item.attachments?.[0]?.url;
      if (!originalUrl) return null;
      
      let processedUrl = originalUrl;
      if (platform === 'youtube' && originalUrl.includes('sddefault.jpg')) {
        processedUrl = originalUrl.replace('sddefault.jpg', 'maxresdefault.jpg');
      }
      
      return processedUrl;
    }
    
    async function loadAllFeeds() {
      const platforms = Object.keys(FEED_URLS);
      
      const fetchPromises = platforms.map(platform => 
        fetch(FEED_URLS[platform])
          .then(res => res.json())
          .then(data => ({ platform, data }))
          .catch(err => ({ platform, error: err }))
      );
      
      const results = await Promise.all(fetchPromises);
      
      results.forEach(({ platform, data, error }) => {
        if (!error && data) {
          state.platformFeeds[platform] = data;
          renderFeed(platform, data);
        } else {
          showFeedError(platform);
        }
      });
    }
    
    function updateScrollIndicators(platform) {
      if (!state.isMobile) return;
      
      const container = document.getElementById(`feedContainer_${platform}`);
      const leftIndicator = document.getElementById(`scrollLeft_${platform}`);
      const rightIndicator = document.getElementById(`scrollRight_${platform}`);
      
      if (!container || !leftIndicator || !rightIndicator) return;
      
      const canScrollLeft = container.scrollLeft > 10;
      const canScrollRight = container.scrollLeft < container.scrollWidth - container.clientWidth - 10;
      
      if (canScrollLeft) {
        leftIndicator.classList.add('visible');
      } else {
        leftIndicator.classList.remove('visible');
      }
      
      if (canScrollRight) {
        rightIndicator.classList.add('visible');
      } else {
        rightIndicator.classList.remove('visible');
      }
    }
    
    function renderFeed(platform, feedData) {
      const container = document.getElementById(`feedContainer_${platform}`);
      const items = feedData.items || [];
      
      if (items.length === 0) {
        container.innerHTML = '<div class="error-message">No content available</div>';
        return;
      }
      
      if (platform === 'youtube') {
        const playlistUrl = getYouTubePlaylistUrl(feedData);
        if (playlistUrl && !state.isMobile) {
          const btn = document.getElementById('youtubePlaylistBtn');
          btn.style.display = 'block';
          btn.onclick = () => window.open(playlistUrl, '_blank');
        }
      }
      
      container.innerHTML = items.map((item, index) => 
        renderFeedCard(item, platform, index === 0)
      ).join('');
      
      // Add scroll event listener for indicators
      container.addEventListener('scroll', () => updateScrollIndicators(platform));
      
      // Initial indicator update after a short delay to ensure content is rendered
      setTimeout(() => updateScrollIndicators(platform), 100);
    }
    
    function renderFeedCard(item, platform, isFirst) {
      const isNew = isContentNew(item.date_published);
      const imageUrl = getImageUrl(item, platform);
      const displayTitle = cleanTitle(item.title, platform);
      const relativeTime = getRelativeTime(item.date_published);
      const platformName = platform.charAt(0).toUpperCase() + platform.slice(1);
      
      return `
        <article class="feed-card ${platform}" onclick="window.open('${item.url}', '_blank')">
          <div class="card-image-container">
            ${imageUrl ? `
              <img 
                src="${imageUrl}" 
                alt="${displayTitle}"
                class="card-image"
                loading="${isFirst ? 'eager' : 'lazy'}"
                onerror="this.parentElement.innerHTML='<div class=\\'image-placeholder\\'><span style=\\'font-size: 32px\\'>ðŸ“·</span><span style=\\'font-size: 12px\\'>Image unavailable</span></div>'"
              >
            ` : `
              <div class="image-placeholder">
                <span style="font-size: 32px">ðŸ“·</span>
                <span style="font-size: 12px">Image unavailable</span>
              </div>
            `}
          </div>
          <div class="card-content">
            <div class="card-header">
              <h3 class="card-title line-clamp-2">${displayTitle}</h3>
              ${isNew ? '<span class="new-badge">NEW</span>' : ''}
            </div>
            <div class="card-meta">
              <div class="card-platform">${platformName}</div>
              <div class="card-date">${relativeTime}</div>
            </div>
          </div>
        </article>
      `;
    }
    
    function showFeedError(platform) {
      const container = document.getElementById(`feedContainer_${platform}`);
      container.innerHTML = '<div class="error-message">Failed to load feed</div>';
    }
    
    function getYouTubePlaylistUrl(feedData) {
      const playlistId = feedData.home_page_url?.match(/list=([^&]+)/)?.[1];
      return playlistId ? `https://www.youtube.com/playlist?list=${playlistId}` : null;
    }
    
    function toggleExpand(platform) {
      const container = document.getElementById(`feedContainer_${platform}`);
      const expandText = document.getElementById(`expandText_${platform}`);
      
      if (!container) return;
      
      state.expandedPlatforms[platform] = !state.expandedPlatforms[platform];
      
      if (state.expandedPlatforms[platform]) {
        container.classList.add('grid-mode');
        if (expandText) expandText.textContent = 'COLLAPSE';
      } else {
        container.classList.remove('grid-mode');
        if (expandText) expandText.textContent = 'EXPAND';
      }
    }
    
    function init() {
      // Inject SVG icons into DOM
      document.querySelectorAll('[data-icon]').forEach(el => {
        const iconName = el.getAttribute('data-icon');
        if (SVG_ICONS[iconName]) {
          el.innerHTML = SVG_ICONS[iconName];
        }
      });
      
      detectDevice();
      loadYoutubePreview();
      let resizeTimeout;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          detectDevice();
          loadYoutubePreview();
        }, 250);
      });
    }
    
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  </script>
</body>
</html>
